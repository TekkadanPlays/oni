import{a as xz,b as Ez}from"../chunk-tvrdndbw.js";var E1=Array.isArray;function k2($){let w=typeof $;return w==="string"||w==="number"}function G($){return $===void 0||$===null}function N1($){return $===null||$===!1||$===!0||$===void 0}function M($){return typeof $==="function"}function p1($){return typeof $==="string"}function S9($){return typeof $==="number"}function q0($){return $===null}function b9($){return $===void 0}function p5($){return!q0($)&&typeof $==="object"}var n={},r5="$F";class W1{constructor(){this.componentDidAppear=[],this.componentWillDisappear=[],this.componentWillMove=[]}}function m5($){return $.substring(2).toLowerCase()}function N8($,w){$.appendChild(w)}function G2($,w,z){if(q0(z))N8($,w);else $.insertBefore(w,z)}function M9($,w){if(w)return document.createElementNS("http://www.w3.org/2000/svg",$);return document.createElement($)}function D9($,w,z){$.replaceChild(w,z)}function p8($,w){$.removeChild(w)}function r8($){for(let w=0;w<$.length;w++)$[w]()}function f9($,w,z){let T=$.children;if((z&4)!==0)return T.$LI;if((z&8192)!==0)return $.childFlags===2?T:T[w?0:T.length-1];return T}function F0($,w){let z,T=$;while(!G(T)){if(z=T.flags,(z&1521)!==0)return T.dom;T=f9(T,w,z)}return null}function S2($,w){let z=$.length,T;while((T=$.pop())!==void 0)T(()=>{if(--z<=0&&M(w))w()})}function y9($){for(let w=0;w<$.length;w++)$[w].fn();for(let w=0;w<$.length;w++){let z=$[w];G2(z.parent,z.dom,z.next)}$.splice(0,$.length)}function b2($,w,z){while(!G($)){let T=$.flags;if((T&1521)!==0){if(!z||$.dom.parentNode===w)p8(w,$.dom);return}let J=$.children;if((T&4)!==0)$=J.$LI;if((T&8)!==0)$=J;if((T&8192)!==0)if($.childFlags===2)$=J;else{for(let Z=0,B=J.length;Z<B;++Z)b2(J[Z],w,!1);return}}}function v9($,w){return function(){b2($,w,!0)}}function M2($,w,z){if(z.componentWillDisappear.length>0)S2(z.componentWillDisappear,v9($,w));else b2($,w,!1)}function O9($,w,z,T,J,Z,B,Y){$.componentWillMove.push({dom:T,fn:()=>{if((B&4)!==0)z.componentWillMove(w,J,T);else if((B&8)!==0)z.onComponentWillMove(w,J,T,Y)},next:Z,parent:J})}function m8($,w,z,T,J){let Z,B,Y=w.flags;while(!G(w)){let q=w.flags;if((q&1521)!==0){if(!G(Z)&&(M(Z.componentWillMove)||M(Z.onComponentWillMove)))O9(J,$,Z,w.dom,z,T,Y,B);else G2(z,w.dom,T);return}let W=w.children;if((q&4)!==0)Z=w.children,B=w.props,w=W.$LI;else if((q&8)!==0)Z=w.ref,B=w.props,w=W;else if((q&8192)!==0)if(w.childFlags===2)w=W;else{for(let R=0,Q=W.length;R<Q;++R)m8($,W[R],z,T,J);return}}}function s8($,w,z){if(M($.constructor.getDerivedStateFromProps))return{...z,...$.constructor.getDerivedStateFromProps(w,z)};return z}var r1={v:!1},P2={createVNode:null};function h1($,w){$.textContent=w}function i8($,w){return p5($)&&$.event===w.event&&$.data===w.data}function d8($,w){for(let z in w)if(b9($[z]))$[z]=w[z];return $}function s5($,w){return M($)&&($(w),!0)}var x1="$";function D2($,w,z,T,J,Z,B,Y){this.childFlags=$,this.children=w,this.className=z,this.dom=null,this.flags=T,this.key=J===void 0?null:J,this.props=Z===void 0?null:Z,this.ref=B===void 0?null:B,this.type=Y}function i5($,w,z,T,J,Z,B,Y){let q=J===void 0?1:J,W=new D2(q,T,z,$,B,Z,Y,w);if(P2.createVNode)P2.createVNode(W);if(q===0)E9(W,W.children);return W}function C9($,w,z){if($&4)return z;let T=($&32768?w.render:w).defaultHooks;if(G(T))return z;if(G(z))return T;return d8(z,T)}function V9($,w,z){let T=($&32768?w.render:w).defaultProps;if(G(T))return z;if(G(z))return{...T};return d8(z,T)}function h9($,w){if($&12)return $;if(w.prototype?.render)return 4;if(w.render)return 32776;return 8}function o8($,w,z,T,J){$=h9($,w);let Z=new D2(1,null,null,$,T,V9($,w,z),C9($,w,J),w);if(M(P2.createVNode))P2.createVNode(Z);return Z}function s1($,w){return new D2(1,G($)||$===!0||$===!1?"":$,null,16,w,null,null,null)}function f2($,w,z){let T=i5(8192,8192,null,$,w,null,z,null);switch(T.childFlags){case 1:T.children=y2(),T.childFlags=2;break;case 16:T.children=[s1($)],T.childFlags=4;break}return T}function x9($){let{children:w,childFlags:z}=$;return f2(z===2?c(w):w.map(c),z,$.key)}function c($){let w=$.flags&-16385,z=$.props;if(w&14){if(!q0(z)){let T=z;z={};for(let J in T)z[J]=T[J]}}if((w&8192)===0)return new D2($.childFlags,$.children,$.className,w,$.key,z,$.ref,$.type);return x9($)}function y2(){return s1("",null)}function c8($,w,z,T){for(let J=$.length;z<J;z++){let Z=$[z];if(!N1(Z)){let B=T+x1+z;if(E1(Z))c8(Z,w,0,B);else{if(k2(Z))Z=s1(Z,B);else{let Y=Z.key,q=p1(Y)&&Y[0]===x1;if(Z.flags&81920||q)Z=c(Z);if(Z.flags|=65536,!q)if(q0(Y))Z.key=B;else Z.key=T+Y;else if(Y.substring(0,T.length)!==T)Z.key=T+Y}w.push(Z)}}}}function l8($){switch($){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case r5:return 8192;default:return 1}}function E9($,w){let z,T=1;if(N1(w))z=w;else if(k2(w))T=16,z=w;else if(E1(w)){let J=w.length;for(let Z=0;Z<J;++Z){let B=w[Z];if(N1(B)||E1(B)){z=z||w.slice(0,Z),c8(w,z,Z,"");break}else if(k2(B))z=z||w.slice(0,Z),z.push(s1(B,x1+Z));else{let Y=B.key,q=(B.flags&81920)>0,W=q0(Y),R=p1(Y)&&Y[0]===x1;if(q||W||R){if(z=z||w.slice(0,Z),q||R)B=c(B);if(W||R)B.key=x1+Z;z.push(B)}else if(z)z.push(B);B.flags|=65536}}if(z=z||w,z.length===0)T=1;else T=8}else{if(z=w,z.flags|=65536,w.flags&81920)z=c(w);T=2}return $.children=z,$.childFlags=T,$}function d5($){if(N1($)||k2($))return s1($,null);if(E1($))return f2($,0,null);return $.flags&16384?c($):$}var q1="http://www.w3.org/1999/xlink",h5="http://www.w3.org/XML/1998/namespace",O8={"xlink:actuate":q1,"xlink:arcrole":q1,"xlink:href":q1,"xlink:role":q1,"xlink:show":q1,"xlink:title":q1,"xlink:type":q1,"xml:base":h5,"xml:lang":h5,"xml:space":h5};function v2($){return{onClick:$,onDblClick:$,onFocusIn:$,onFocusOut:$,onKeyDown:$,onKeyPress:$,onKeyUp:$,onMouseDown:$,onMouseMove:$,onMouseUp:$,onTouchEnd:$,onTouchMove:$,onTouchStart:$}}var a8=v2(0),x5=v2(null),t8=v2(!0);function C8($,w){let z=w.$EV;if(!z)z=w.$EV=v2(null);if(!z[$]){if(++a8[$]===1)x5[$]=c9($)}return z}function n8($,w){let z=w.$EV;if(z?.[$]){if(--a8[$]===0)document.removeEventListener(m5($),x5[$]),x5[$]=null;z[$]=null}}function N9($,w,z,T){if(M(z))C8($,T)[$]=z;else if(p5(z)){if(i8(w,z))return;C8($,T)[$]=z}else n8($,T)}function p9($){return M($.composedPath)?$.composedPath()[0]:$.target}function r9($,w,z,T){let J=p9($);do{if(w&&J.disabled)return;let Z=J.$EV;if(!G(Z)){let B=Z[z];if(B){if(T.dom=J,B.event)B.event(B.data,$);else B($);if($.cancelBubble)return}}J=J.parentNode}while(!q0(J))}function m9(){if(this.cancelBubble=!0,!this.immediatePropagationStopped)this.stopImmediatePropagation()}function s9(){return this.defaultPrevented}function i9(){return this.cancelBubble}function d9($){let w={dom:document};return $.isDefaultPrevented=s9,$.isPropagationStopped=i9,$.stopPropagation=m9,Object.defineProperty($,"currentTarget",{configurable:!0,get:function z(){return w.dom}}),w}function o9($){let w=$==="onClick"||$==="onDblClick";return function(z){r9(z,w,$,d9(z))}}function c9($){let w=o9($);return document.addEventListener(m5($),w),w}function l9($,w){let z=document.createElement("i");return z.innerHTML=w,z.innerHTML===$.innerHTML}function V8($,w,z){let T=$[w];if(T)if(T.event)T.event(T.data,z);else T(z);else{let J=w.toLowerCase();if(M($[J]))$[J](z)}}function i1($,w){let z=function T(J){let Z=this.$V;if(G(Z))return;let B=Z.props??n,Y=Z.dom;if(p1($))V8(B,$,J);else for(let q=0;q<$.length;++q)V8(B,$[q],J);if(M(w)){let q=this.$V,W=q.props??n;w(W,Y,!1,q)}};return Object.defineProperty(z,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),z}function R1($,w,z){let T=`$${w}`,J=$[T];if(J){if(J[1].wrapped)return;$.removeEventListener(J[0],J[1]),$[T]=null}if(M(z))$.addEventListener(w,z),$[T]=[w,z]}function o5($){return $==="checkbox"||$==="radio"}var a9=i1("onInput",c5),t9=i1(["onClick","onChange"],c5);function e8($){$.stopPropagation()}e8.wrapped=!0;function n9($,w){if(o5(w.type))R1($,"change",t9),R1($,"click",e8);else R1($,"input",a9)}function c5($,w){let{type:z,value:T,checked:J,multiple:Z,defaultValue:B}=$,Y=!G(T);if(z!=null&&z!==w.type)w.setAttribute("type",z);if(!G(Z)&&Z!==w.multiple)w.multiple=Z;if(!G(B)&&!Y)w.defaultValue=B+"";if(o5(z)){if(Y)w.value=T;if(!G(J))w.checked=J}else if(Y&&w.value!==T)w.defaultValue=T,w.value=T;else if(!G(J))w.checked=J}function V1($,w){if($.type==="option")e9($,w);else{let{children:z,flags:T}=$;if((T&4)!==0)V1(z.$LI,w);else if((T&8)!==0)V1(z,w);else if($.childFlags===2)V1(z,w);else if(($.childFlags&12)!==0)for(let J=0,Z=z.length;J<Z;++J)V1(z[J],w)}}function e9($,w){let z=$.props??n,T=z.value,J=$.dom;if(J.value=T,T===w||E1(w)&&w.includes(T))J.selected=!0;else if(!G(w)||!G(z.selected))J.selected=Boolean(z.selected)}var $7=i1("onChange",$3);function w7($){R1($,"change",$7)}function $3($,w,z,T){let J=Boolean($.multiple);if(!G($.multiple)&&J!==w.multiple)w.multiple=J;let Z=$.selectedIndex;if(Z===-1)w.selectedIndex=-1;if(T.childFlags!==1){let Y=$.value;if(S9(Z)&&Z>-1&&!G(w.options[Z]))Y=w.options[Z].value;if(z&&G(Y))Y=$.defaultValue;V1(T,Y)}}var z7=i1("onInput",w3),T7=i1("onChange");function J7($,w){if(R1($,"input",z7),M(w.onChange))R1($,"change",T7)}function w3($,w,z){let T=$.value,J=w.value;if(G(T)){if(z){let Z=$.defaultValue;if(!G(Z)&&Z!==J)w.defaultValue=Z,w.value=Z}}else if(J!==T)w.defaultValue=T,w.value=T}function z3($,w,z,T,J,Z){if(($&64)!==0)c5(T,z);else if(($&256)!==0)$3(T,z,J,w);else if(($&128)!==0)w3(T,z,J);if(Z)z.$V=w}function Z7($,w,z){if(($&64)!==0)n9(w,z);else if(($&256)!==0)w7(w);else if(($&128)!==0)J7(w,z)}function T3($){return o5($.type)?!G($.checked):!G($.value)}function u2($){if(!G($)){if(!s5($,null)&&$.current)$.current=null}}function O2($,w,z){if(!G($)&&(M($)||$.current!==void 0))z.push(()=>{if(!s5($,w)&&$.current!==void 0)$.current=w})}function D0($,w,z){h0($,z),M2($,w,z)}function h0($,w){let{flags:z,children:T}=$,J;if((z&481)!==0){J=$.ref;let Z=$.props;u2(J);let B=$.childFlags;if(!q0(Z)){let Y=Object.keys(Z);for(let q=0,W=Y.length;q<W;q++){let R=Y[q];if(t8[R])n8(R,$.dom)}}if(B&12)m1(T,w);else if(B===2)h0(T,w)}else if(T){if(z&4){if(M(T.componentWillUnmount))T.componentWillUnmount();let Z=w;if(M(T.componentWillDisappear))Z=new W1,h8(w,T,T.$LI.dom,z,void 0);u2($.ref),T.$UN=!0,h0(T.$LI,Z)}else if(z&8){let Z=w;if(J=$.ref,!G(J)){let B=null;if(M(J.onComponentWillUnmount))B=F0($,!0),J.onComponentWillUnmount(B,$.props||n);if(M(J.onComponentWillDisappear))Z=new W1,B=B||F0($,!0),h8(w,J,B,z,$.props)}h0(T,Z)}else if(z&1024)D0(T,$.ref,w);else if(z&8192){if($.childFlags&12)m1(T,w)}}}function m1($,w){for(let z=0,T=$.length;z<T;++z)h0($[z],w)}function X7($,w){return function(){if(w)for(let z=0;z<$.length;z++){let T=$[z];b2(T,w,!1)}}}function F2($,w,z){if(z.componentWillDisappear.length>0)S2(z.componentWillDisappear,X7(w,$));else $.textContent=""}function L2($,w,z,T){if(m1(z,T),w.flags&8192)M2(w,$,T);else F2($,z,T)}function h8($,w,z,T,J){$.componentWillDisappear.push((Z)=>{if(T&4)w.componentWillDisappear(z,Z);else if(T&8)w.onComponentWillDisappear(z,J,Z)})}function B7($){let w=$.event;return function(z){w($.data,z)}}function Y7($,w,z,T){if(p5(z)){if(i8(w,z))return;z=B7(z)}R1(T,m5($),z)}function q7($,w,z){if(G(w)){z.removeAttribute("style");return}let T=z.style,J,Z;if(p1(w)){T.cssText=w;return}if(!G($)&&!p1($)){for(J in w)if(Z=w[J],Z!==$[J])T.setProperty(J,Z);for(J in $)if(G(w[J]))T.removeProperty(J)}else for(J in w)Z=w[J],T.setProperty(J,Z)}function R7($,w,z,T,J){let Z=$?.__html||"",B=w?.__html||"";if(Z!==B){if(!G(B)&&!l9(T,B)){if(!q0(z)){if(z.childFlags&12)m1(z.children,J);else if(z.childFlags===2)h0(z.children,J);z.children=null,z.childFlags=1}T.innerHTML=B}}}function W7($,w,z){let T=G($)?"":$;if(w[z]!==T)w[z]=T}function E5($,w,z,T,J,Z,B,Y){switch($){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":T.autofocus=!!z;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":T[$]=!!z;break;case"defaultChecked":case"value":case"volume":if(Z&&$==="value")break;W7(z,T,$);break;case"style":q7(w,z,T);break;case"dangerouslySetInnerHTML":R7(w,z,B,T,Y);break;default:if(t8[$])N9($,w,z,T);else if($.charCodeAt(0)===111&&$.charCodeAt(1)===110)Y7($,w,z,T);else if(G(z))T.removeAttribute($);else if(J&&O8[$])T.setAttributeNS(O8[$],$,z);else T.setAttribute($,z);break}}function Q7($,w,z,T,J,Z){let B=!1,Y=(w&448)>0;if(Y){if(B=T3(z),B)Z7(w,T,z)}for(let q in z)E5(q,null,z[q],T,J,B,null,Z);if(Y)z3(w,$,T,z,!0,B)}function J3($,w,z){let T=d5($.render(w,$.state,z)),J=z;if(M($.getChildContext))J={...z,...$.getChildContext()};return $.$CX=J,T}function _7($,w,z,T,J,Z){let B=new w(z,T),Y=B.$N=Boolean(w.getDerivedStateFromProps||B.getSnapshotBeforeUpdate);if(B.$SVG=J,B.$L=Z,$.children=B,B.$BS=!1,B.context=T,B.props===n)B.props=z;if(!Y){if(M(B.componentWillMount)){B.$BR=!0,B.componentWillMount();let q=B.$PS;if(!q0(q)){let W=B.state;if(q0(W))B.state=q;else for(let R in q)W[R]=q[R];B.$PS=null}B.$BR=!1}}else B.state=s8(B,z,B.state);return B.$LI=J3(B,z,T),B}function Z3($,w){let z=$.props||n;return $.flags&32768?$.type.render(z,$.ref,w):$.type(z,w)}function w0($,w,z,T,J,Z,B){let Y=$.flags|=16384;if((Y&481)!==0)A7($,w,z,T,J,Z,B);else if((Y&4)!==0)U7($,w,z,T,J,Z,B);else if(Y&8)g7($,w,z,T,J,Z,B);else if(Y&16)X3($,w,J);else if(Y&8192)K7($,z,w,T,J,Z,B);else if(Y&1024)H7($,z,w,J,Z,B)}function H7($,w,z,T,J,Z){w0($.children,$.ref,w,!1,null,J,Z);let B=y2();X3(B,z,T),$.dom=B.dom}function K7($,w,z,T,J,Z,B){let{children:Y,childFlags:q}=$;if(q&12&&Y.length===0)q=$.childFlags=2,Y=$.children=y2();if(q===2)w0(Y,z,w,T,J,Z,B);else Q1(Y,z,w,T,J,Z,B)}function X3($,w,z){let T=$.dom=document.createTextNode($.children);if(!q0(w))G2(w,T,z)}function A7($,w,z,T,J,Z,B){let{flags:Y,props:q,className:W,childFlags:R}=$,Q=$.dom=M9($.type,T=T||(Y&32)>0),_=$.children;if(!G(W)&&W!=="")if(T)Q.setAttribute("class",W);else Q.className=W;if(R===16)h1(Q,_);else if(R!==1){let H=T&&$.type!=="foreignObject";if(R===2){if(_.flags&16384)$.children=_=c(_);w0(_,Q,z,H,null,Z,B)}else if(R===8||R===4)Q1(_,Q,z,H,null,Z,B)}if(!q0(w))G2(w,Q,J);if(!q0(q))Q7($,Y,q,Q,T,B);O2($.ref,Q,Z)}function Q1($,w,z,T,J,Z,B){for(let Y=0;Y<$.length;++Y){let q=$[Y];if(q.flags&16384)$[Y]=q=c(q);w0(q,w,z,T,J,Z,B)}}function U7($,w,z,T,J,Z,B){let Y=_7($,$.type,$.props||n,z,T,Z),q=B;if(M(Y.componentDidAppear))q=new W1;w0(Y.$LI,w,Y.$CX,T,J,Z,q),k7($.ref,Y,Z,B)}function g7($,w,z,T,J,Z,B){let Y=$.ref,q=B;if(!G(Y)&&M(Y.onComponentDidAppear))q=new W1;w0($.children=d5(Z3($,z)),w,z,T,J,Z,q),u7($,Z,B)}function I7($){return()=>{$.componentDidMount()}}function F7($,w,z){$.componentDidAppear.push(()=>{w.componentDidAppear(z)})}function j7($,w,z,T){$.componentDidAppear.push(()=>{w.onComponentDidAppear(z,T)})}function k7($,w,z,T){if(O2($,w,z),M(w.componentDidMount))z.push(I7(w));if(M(w.componentDidAppear))F7(T,w,w.$LI.dom)}function P7($,w){return()=>{$.onComponentDidMount(F0(w,!0),w.props||n)}}function u7($,w,z){let T=$.ref;if(!G(T)){if(s5(T.onComponentWillMount,$.props||n),M(T.onComponentDidMount))w.push(P7(T,$));if(M(T.onComponentDidAppear))j7(z,T,F0($,!0),$.props)}}function L7($,w,z,T,J,Z,B){if(h0($,B),(w.flags&$.flags&1521)!==0)w0(w,null,T,J,null,Z,B),D9(z,w.dom,$.dom);else w0(w,z,T,J,F0($,!0),Z,B),M2($,z,B)}function x0($,w,z,T,J,Z,B,Y){let q=w.flags|=16384;if($.flags!==q||$.type!==w.type||$.key!==w.key||q&2048)if($.flags&16384)L7($,w,z,T,J,B,Y);else w0(w,z,T,J,Z,B,Y);else if(q&481)D7($,w,T,J,B,Y);else if(q&4)O7($,w,z,T,J,Z,B,Y);else if(q&8)C7($,w,z,T,J,Z,B,Y);else if(q&16)V7($,w);else if(q&8192)b7($,w,z,T,J,B,Y);else M7($,w,T,B,Y)}function G7($,w,z){if($!==w)if($!=="")z.firstChild.nodeValue=w;else h1(z,w)}function S7($,w){if($.textContent!==w)$.textContent=w}function b7($,w,z,T,J,Z,B){let Y=$.children,q=w.children,W=$.childFlags,R=w.childFlags,Q=null;if(R&12&&q.length===0)R=w.childFlags=2,q=w.children=y2();let _=(R&2)!==0;if(W&12){let H=Y.length;if(W&8&&R&8||_||!_&&q.length>H)Q=F0(Y[H-1],!1).nextSibling}l5(W,R,Y,q,z,T,J,Q,$,Z,B)}function M7($,w,z,T,J){let Z=$.ref,B=w.ref,Y=w.children;if(l5($.childFlags,w.childFlags,$.children,Y,Z,z,!1,null,$,T,J),w.dom=$.dom,Z!==B&&!N1(Y)){let q=Y.dom;p8(Z,q),N8(B,q)}}function D7($,w,z,T,J,Z){let B=w.dom=$.dom,Y=$.props,q=w.props,W=w.flags,R=!1,Q=!1,_;if(T=T||(W&32)>0,Y!==q){let I=Y||n;if(_=q||n,_!==n){if(R=(W&448)>0,R)Q=T3(_);for(let v in _){let V=I[v],a=_[v];if(V!==a)E5(v,V,a,B,T,Q,$,Z)}}if(I!==n){for(let v in I)if(G(_[v])&&!G(I[v]))E5(v,I[v],null,B,T,Q,$,Z)}}let{children:H,className:g}=w;if($.className!==g)if(G(g))B.removeAttribute("class");else if(T)B.setAttribute("class",g);else B.className=g;if(W&4096)S7(B,H);else l5($.childFlags,w.childFlags,$.children,H,B,z,T&&w.type!=="foreignObject",null,$,J,Z);if(R)z3(W,w,B,_,!1,Q);let K=w.ref,P=$.ref;if(P!==K)u2(P),O2(K,B,J)}function f7($,w,z,T,J,Z,B){h0($,B),Q1(w,z,T,J,F0($,!0),Z,B),M2($,z,B)}function y7($,w,z,T,J,Z,B,Y,q,W,R){let Q=$.length|0,_=w.length|0;if(Q===0){if(_>0)Q1(w,z,T,J,Z,B,Y)}else if(_===0)L2(z,q,$,Y);else if(W===8&&R===8)x7($,w,z,T,J,Q,_,Z,q,B,Y);else h7($,w,z,T,J,Q,_,Z,B,Y)}function l5($,w,z,T,J,Z,B,Y,q,W,R){switch($){case 2:switch(w){case 2:x0(z,T,J,Z,B,Y,W,R);break;case 1:D0(z,J,R);break;case 16:h0(z,R),h1(J,T);break;default:f7(z,T,J,Z,B,W,R);break}break;case 1:switch(w){case 2:w0(T,J,Z,B,Y,W,R);break;case 1:break;case 16:h1(J,T);break;default:Q1(T,J,Z,B,Y,W,R);break}break;case 16:switch(w){case 16:G7(z,T,J);break;case 2:F2(J,z,R),w0(T,J,Z,B,Y,W,R);break;case 1:F2(J,z,R);break;default:F2(J,z,R),Q1(T,J,Z,B,Y,W,R);break}break;default:switch(w){case 16:m1(z,R),h1(J,T);break;case 2:L2(J,q,z,R),w0(T,J,Z,B,Y,W,R);break;case 1:L2(J,q,z,R);break;default:y7(z,T,J,Z,B,Y,W,R,q,w,$);break}break}}function v7($,w,z,T,J){J.push(()=>{$.componentDidUpdate(w,z,T)})}function B3($,w,z,T,J,Z,B,Y,q,W){let{state:R,props:Q}=$,_=Boolean($.$N),H=M($.shouldComponentUpdate);if(_)w=s8($,z,w!==R?{...R,...w}:w);if(B||!H||H&&$.shouldComponentUpdate(z,w,J)){if(!_&&M($.componentWillUpdate))$.componentWillUpdate(z,w,J);$.props=z,$.state=w,$.context=J;let g=null,K=J3($,z,J);if(_&&M($.getSnapshotBeforeUpdate))g=$.getSnapshotBeforeUpdate(Q,R);if(x0($.$LI,K,T,$.$CX,Z,Y,q,W),$.$LI=K,M($.componentDidUpdate))v7($,Q,R,g,q)}else $.props=z,$.state=w,$.context=J}function O7($,w,z,T,J,Z,B,Y){let q=w.children=$.children;if(q0(q))return;q.$L=B;let W=w.props||n,R=w.ref,Q=$.ref,_=q.state;if(!q.$N){if(M(q.componentWillReceiveProps)){if(q.$BR=!0,q.componentWillReceiveProps(W,T),q.$UN)return;q.$BR=!1}if(!q0(q.$PS))_={..._,...q.$PS},q.$PS=null}if(B3(q,_,W,z,T,J,!1,Z,B,Y),Q!==R)u2(Q),O2(R,q,B)}function C7($,w,z,T,J,Z,B,Y){let q=!0,W=w.props||n,R=w.ref,Q=$.props,_=!G(R),H=$.children;if(_&&M(R.onComponentShouldUpdate))q=R.onComponentShouldUpdate(Q,W);if(q){if(_&&M(R.onComponentWillUpdate))R.onComponentWillUpdate(Q,W);let g=d5(Z3(w,T));if(x0(H,g,z,T,J,Z,B,Y),w.children=g,_&&M(R.onComponentDidUpdate))R.onComponentDidUpdate(Q,W)}else w.children=H}function V7($,w){let z=w.children,T=w.dom=$.dom;if(z!==$.children)T.nodeValue=z}function h7($,w,z,T,J,Z,B,Y,q,W){let R=Z>B?B:Z,Q=0,_,H;for(;Q<R;++Q){if(_=w[Q],H=$[Q],_.flags&16384)_=w[Q]=c(_);x0(H,_,z,T,J,Y,q,W),$[Q]=_}if(Z<B)for(Q=R;Q<B;++Q){if(_=w[Q],_.flags&16384)_=w[Q]=c(_);w0(_,z,T,J,Y,q,W)}else if(Z>B)for(Q=R;Q<Z;++Q)D0($[Q],z,W)}function x7($,w,z,T,J,Z,B,Y,q,W,R){let Q=Z-1,_=B-1,H=0,g=$[H],K=w[H],P,I;$:{while(g.key===K.key){if(K.flags&16384)w[H]=K=c(K);if(x0(g,K,z,T,J,Y,W,R),$[H]=K,++H,H>Q||H>_)break $;g=$[H],K=w[H]}g=$[Q],K=w[_];while(g.key===K.key){if(K.flags&16384)w[_]=K=c(K);if(x0(g,K,z,T,J,Y,W,R),$[Q]=K,Q--,_--,H>Q||H>_)break $;g=$[Q],K=w[_]}}if(H>Q){if(H<=_){P=_+1,I=P<B?F0(w[P],!0):Y;while(H<=_){if(K=w[H],K.flags&16384)w[H]=K=c(K);++H,w0(K,z,T,J,I,W,R)}}}else if(H>_)while(H<=Q)D0($[H++],z,R);else E7($,w,T,Z,B,Q,_,H,z,J,Y,q,W,R)}function E7($,w,z,T,J,Z,B,Y,q,W,R,Q,_,H){let g,K,P=0,I=0,v=Y,V=Y,a=Z-Y+1,p=B-Y+1,o=new Int32Array(p+1),r=a===T,k=!1,L=0,W0=0;if(J<4||(a|p)<32){for(I=v;I<=Z;++I)if(g=$[I],W0<p){for(Y=V;Y<=B;Y++)if(K=w[Y],g.key===K.key){if(o[Y-V]=I+1,r){r=!1;while(v<I)D0($[v++],q,H)}if(L>Y)k=!0;else L=Y;if(K.flags&16384)w[Y]=K=c(K);x0(g,K,q,z,W,R,_,H),++W0;break}if(!r&&Y>B)D0(g,q,H)}else if(!r)D0(g,q,H)}else{let b0={};for(I=V;I<=B;++I)b0[w[I].key]=I;for(I=v;I<=Z;++I)if(g=$[I],W0<p){if(Y=b0[g.key],Y!==void 0){if(r){r=!1;while(I>v)D0($[v++],q,H)}if(o[Y-V]=I+1,L>Y)k=!0;else L=Y;if(K=w[Y],K.flags&16384)w[Y]=K=c(K);x0(g,K,q,z,W,R,_,H),++W0}else if(!r)D0(g,q,H)}else if(!r)D0(g,q,H)}if(r)L2(q,Q,$,H),Q1(w,q,z,W,R,_,H);else if(k){let b0=N7(o);Y=b0.length-1;for(I=p-1;I>=0;I--)if(o[I]===0){if(L=I+V,K=w[L],K.flags&16384)w[L]=K=c(K);P=L+1,w0(K,q,z,W,P<J?F0(w[P],!0):R,_,H)}else if(Y<0||I!==b0[Y])L=I+V,K=w[L],P=L+1,m8(Q,K,q,P<J?F0(w[P],!0):R,H);else Y--;if(H.componentWillMove.length>0)y9(H.componentWillMove)}else if(W0!==p){for(I=p-1;I>=0;I--)if(o[I]===0){if(L=I+V,K=w[L],K.flags&16384)w[L]=K=c(K);P=L+1,w0(K,q,z,W,P<J?F0(w[P],!0):R,_,H)}}}var V0,I2,x8=0;function N7($){let w=0,z=0,T=0,J=0,Z=0,B=0,Y=0,q=$.length;if(q>x8)x8=q,V0=new Int32Array(q),I2=new Int32Array(q);for(;z<q;++z)if(w=$[z],w!==0){if(T=V0[J],$[T]<w){I2[z]=T,V0[++J]=z;continue}Z=0,B=J;while(Z<B)if(Y=Z+B>>1,$[V0[Y]]<w)Z=Y+1;else B=Y;if(w<$[V0[Z]]){if(Z>0)I2[z]=V0[Z-1];V0[Z]=z}}Z=J+1;let W=new Int32Array(Z);B=V0[Z-1];while(Z-- >0)W[Z]=B,B=I2[B],V0[Z]=0;return W}var p7=typeof document!=="undefined";if(p7){if(window.Node)Node.prototype.$EV=null,Node.prototype.$V=null}function r7($,w,z,T){let J=[],Z=new W1,B=w.$V;if(r1.v=!0,G(B)){if(!G($)){if(($.flags&16384)!==0)$=c($);w0($,w,T,!1,null,J,Z),w.$V=$,B=$}}else if(G($))D0(B,w,Z),w.$V=null;else{if($.flags&16384)$=c($);x0(B,$,w,T,!1,null,J,Z),B=w.$V=$}if(r8(J),S2(Z.componentDidAppear),r1.v=!1,M(z))z()}function Y3($,w,z=null,T=n){r7($,w,z,T)}var j2=[],m7=Promise.resolve().then.bind(Promise.resolve()),N5=!1;function E8($,w,z,T){let J=$.$PS;if(M(w))w=w(J?{...$.state,...J}:$.state,$.props,$.context);if(G(J))$.$PS=w;else for(let Z in w)J[Z]=w[Z];if(!$.$BR){if(!r1.v){if(j2.length===0){if(q3($,T),M(z))z.call($);return}}if(!j2.includes($))j2.push($);if(T)$.$F=!0;if(!N5)N5=!0,m7(i7);if(M(z)){let Z=$.$QU;if(!Z)Z=$.$QU=[];Z.push(z)}}else if(M(z))$.$L.push(z.bind($))}function s7($){let w=$.$QU;for(let z=0;z<w.length;++z)w[z].call($);$.$QU=null}function i7(){let $;N5=!1;while($=j2.shift())if(!$.$UN){let w=$.$F;if($.$F=!1,q3($,w),$.$QU)s7($)}}function q3($,w){if(w||!$.$BR){let z=$.$PS;$.$PS=null;let T=[],J=new W1;r1.v=!0,B3($,{...$.state,...z},$.props,F0($.$LI,!0).parentNode,$.context,$.$SVG,w,null,T,J),r8(T),S2(J.componentDidAppear),r1.v=!1}else $.state=$.$PS,$.$PS=null}class D{constructor($,w){this.state=null,this.props=void 0,this.context=void 0,this.displayName=void 0,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$SSR=void 0,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=$||n,this.context=w||n}forceUpdate($){if(this.$UN)return;E8(this,{},$,!0)}setState($,w){if(this.$UN)return;if(!this.$BS)E8(this,$,w,!1)}render($,w,z){return null}}D.defaultProps=null;function R3($){return $===void 0||$===null}function d7($){return typeof $==="string"}function W3($){return $===void 0}function X($,w,...z){let T,J=null,Z=null,B=null,Y,q,W=z.length;if(W===1)T=z[0];else if(W>1){T=[];for(let R=0;R<W;R++)T.push(z[R])}if(d7($)){if(Y=l8($),!R3(w)){q={};for(let R in w)if(R==="className"||R==="class")B=w[R];else if(R==="key")Z=w.key;else if(R==="children"&&W3(T))T=w.children;else if(R==="ref")J=w.ref;else{if(R==="contenteditable")Y|=4096;q[R]=w[R]}}}else{if(Y=2,!W3(T)){if(!w)w={};w.children=T}if(!R3(w)){q={};for(let R in w)if(R==="key")Z=w.key;else if(R==="ref")J=w.ref;else switch(R){case"onComponentDidAppear":case"onComponentDidMount":case"onComponentDidUpdate":case"onComponentShouldUpdate":case"onComponentWillDisappear":case"onComponentWillMount":case"onComponentWillUnmount":case"onComponentWillUpdate":if(!J)J={};J[R]=w[R];break;default:q[R]=w[R];break}}return o8(Y,$,q,Z,J)}if(Y&8192)return f2(W===1?[T]:T,0,Z);return i5(Y,$,B,T,0,q,Z,J)}function Q3($){var w,z,T="";if(typeof $=="string"||typeof $=="number")T+=$;else if(typeof $=="object")if(Array.isArray($)){var J=$.length;for(w=0;w<J;w++)$[w]&&(z=Q3($[w]))&&(T&&(T+=" "),T+=z)}else for(z in $)$[z]&&(T&&(T+=" "),T+=z);return T}function C2(){for(var $,w,z=0,T="",J=arguments.length;z<J;z++)($=arguments[z])&&(w=Q3($))&&(T&&(T+=" "),T+=w);return T}var o7=($,w)=>{let z=new Array($.length+w.length);for(let T=0;T<$.length;T++)z[T]=$[T];for(let T=0;T<w.length;T++)z[$.length+T]=w[T];return z},c7=($,w)=>({classGroupId:$,validator:w}),g3=($=new Map,w=null,z)=>({nextPart:$,validators:w,classGroupId:z});var _3=[];var l7=($)=>{let w=t7($),{conflictingClassGroups:z,conflictingClassGroupModifiers:T}=$;return{getClassGroupId:(B)=>{if(B.startsWith("[")&&B.endsWith("]"))return a7(B);let Y=B.split("-"),q=Y[0]===""&&Y.length>1?1:0;return I3(Y,q,w)},getConflictingClassGroupIds:(B,Y)=>{if(Y){let q=T[B],W=z[B];if(q){if(W)return o7(W,q);return q}return W||_3}return z[B]||_3}}},I3=($,w,z)=>{if($.length-w===0)return z.classGroupId;let J=$[w],Z=z.nextPart.get(J);if(Z){let W=I3($,w+1,Z);if(W)return W}let B=z.validators;if(B===null)return;let Y=w===0?$.join("-"):$.slice(w).join("-"),q=B.length;for(let W=0;W<q;W++){let R=B[W];if(R.validator(Y))return R.classGroupId}return},a7=($)=>$.slice(1,-1).indexOf(":")===-1?void 0:(()=>{let w=$.slice(1,-1),z=w.indexOf(":"),T=w.slice(0,z);return T?"arbitrary.."+T:void 0})(),t7=($)=>{let{theme:w,classGroups:z}=$;return n7(z,w)},n7=($,w)=>{let z=g3();for(let T in $){let J=$[T];t5(J,z,T,w)}return z},t5=($,w,z,T)=>{let J=$.length;for(let Z=0;Z<J;Z++){let B=$[Z];e7(B,w,z,T)}},e7=($,w,z,T)=>{if(typeof $==="string"){$$($,w,z);return}if(typeof $==="function"){w$($,w,z,T);return}z$($,w,z,T)},$$=($,w,z)=>{let T=$===""?w:F3(w,$);T.classGroupId=z},w$=($,w,z,T)=>{if(T$($)){t5($(T),w,z,T);return}if(w.validators===null)w.validators=[];w.validators.push(c7(z,$))},z$=($,w,z,T)=>{let J=Object.entries($),Z=J.length;for(let B=0;B<Z;B++){let[Y,q]=J[B];t5(q,F3(w,Y),z,T)}},F3=($,w)=>{let z=$,T=w.split("-"),J=T.length;for(let Z=0;Z<J;Z++){let B=T[Z],Y=z.nextPart.get(B);if(!Y)Y=g3(),z.nextPart.set(B,Y);z=Y}return z},T$=($)=>("isThemeGetter"in $)&&$.isThemeGetter===!0,J$=($)=>{if($<1)return{get:()=>{return},set:()=>{}};let w=0,z=Object.create(null),T=Object.create(null),J=(Z,B)=>{if(z[Z]=B,w++,w>$)w=0,T=z,z=Object.create(null)};return{get(Z){let B=z[Z];if(B!==void 0)return B;if((B=T[Z])!==void 0)return J(Z,B),B},set(Z,B){if(Z in z)z[Z]=B;else J(Z,B)}}};var Z$=[],H3=($,w,z,T,J)=>({modifiers:$,hasImportantModifier:w,baseClassName:z,maybePostfixModifierPosition:T,isExternal:J}),X$=($)=>{let{prefix:w,experimentalParseClassName:z}=$,T=(J)=>{let Z=[],B=0,Y=0,q=0,W,R=J.length;for(let K=0;K<R;K++){let P=J[K];if(B===0&&Y===0){if(P===":"){Z.push(J.slice(q,K)),q=K+1;continue}if(P==="/"){W=K;continue}}if(P==="[")B++;else if(P==="]")B--;else if(P==="(")Y++;else if(P===")")Y--}let Q=Z.length===0?J:J.slice(q),_=Q,H=!1;if(Q.endsWith("!"))_=Q.slice(0,-1),H=!0;else if(Q.startsWith("!"))_=Q.slice(1),H=!0;let g=W&&W>q?W-q:void 0;return H3(Z,H,_,g)};if(w){let J=w+":",Z=T;T=(B)=>B.startsWith(J)?Z(B.slice(J.length)):H3(Z$,!1,B,void 0,!0)}if(z){let J=T;T=(Z)=>z({className:Z,parseClassName:J})}return T},B$=($)=>{let w=new Map;return $.orderSensitiveModifiers.forEach((z,T)=>{w.set(z,1e6+T)}),(z)=>{let T=[],J=[];for(let Z=0;Z<z.length;Z++){let B=z[Z],Y=B[0]==="[",q=w.has(B);if(Y||q){if(J.length>0)J.sort(),T.push(...J),J=[];T.push(B)}else J.push(B)}if(J.length>0)J.sort(),T.push(...J);return T}},Y$=($)=>({cache:J$($.cacheSize),parseClassName:X$($),sortModifiers:B$($),...l7($)}),q$=/\s+/,R$=($,w)=>{let{parseClassName:z,getClassGroupId:T,getConflictingClassGroupIds:J,sortModifiers:Z}=w,B=[],Y=$.trim().split(q$),q="";for(let W=Y.length-1;W>=0;W-=1){let R=Y[W],{isExternal:Q,modifiers:_,hasImportantModifier:H,baseClassName:g,maybePostfixModifierPosition:K}=z(R);if(Q){q=R+(q.length>0?" "+q:q);continue}let P=!!K,I=T(P?g.substring(0,K):g);if(!I){if(!P){q=R+(q.length>0?" "+q:q);continue}if(I=T(g),!I){q=R+(q.length>0?" "+q:q);continue}P=!1}let v=_.length===0?"":_.length===1?_[0]:Z(_).join(":"),V=H?v+"!":v,a=V+I;if(B.indexOf(a)>-1)continue;B.push(a);let p=J(I,P);for(let o=0;o<p.length;++o){let r=p[o];B.push(V+r)}q=R+(q.length>0?" "+q:q)}return q},W$=(...$)=>{let w=0,z,T,J="";while(w<$.length)if(z=$[w++]){if(T=j3(z))J&&(J+=" "),J+=T}return J},j3=($)=>{if(typeof $==="string")return $;let w,z="";for(let T=0;T<$.length;T++)if($[T]){if(w=j3($[T]))z&&(z+=" "),z+=w}return z},Q$=($,...w)=>{let z,T,J,Z,B=(q)=>{let W=w.reduce((R,Q)=>Q(R),$());return z=Y$(W),T=z.cache.get,J=z.cache.set,Z=Y,Y(q)},Y=(q)=>{let W=T(q);if(W)return W;let R=R$(q,z);return J(q,R),R};return Z=B,(...q)=>Z(W$(...q))},_$=[],l=($)=>{let w=(z)=>z[$]||_$;return w.isThemeGetter=!0,w},k3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,P3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H$=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,K$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,g$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,c0=($)=>H$.test($),b=($)=>!!$&&!Number.isNaN(Number($)),l0=($)=>!!$&&Number.isInteger(Number($)),a5=($)=>$.endsWith("%")&&b($.slice(0,-1)),E0=($)=>K$.test($),u3=()=>!0,F$=($)=>A$.test($)&&!U$.test($),n5=()=>!1,j$=($)=>g$.test($),k$=($)=>I$.test($),P$=($)=>!F($)&&!j($),u$=($)=>a0($,S3,n5),F=($)=>k3.test($),_1=($)=>a0($,b3,F$),K3=($)=>a0($,y$,b),L$=($)=>a0($,D3,u3),G$=($)=>a0($,M3,n5),A3=($)=>a0($,L3,n5),S$=($)=>a0($,G3,k$),V2=($)=>a0($,f3,j$),j=($)=>P3.test($),d1=($)=>H1($,b3),b$=($)=>H1($,M3),U3=($)=>H1($,L3),M$=($)=>H1($,S3),D$=($)=>H1($,G3),h2=($)=>H1($,f3,!0),f$=($)=>H1($,D3,!0),a0=($,w,z)=>{let T=k3.exec($);if(T){if(T[1])return w(T[1]);return z(T[2])}return!1},H1=($,w,z=!1)=>{let T=P3.exec($);if(T){if(T[1])return w(T[1]);return z}return!1},L3=($)=>$==="position"||$==="percentage",G3=($)=>$==="image"||$==="url",S3=($)=>$==="length"||$==="size"||$==="bg-size",b3=($)=>$==="length",y$=($)=>$==="number",M3=($)=>$==="family-name",D3=($)=>$==="number"||$==="weight",f3=($)=>$==="shadow";var v$=()=>{let $=l("color"),w=l("font"),z=l("text"),T=l("font-weight"),J=l("tracking"),Z=l("leading"),B=l("breakpoint"),Y=l("container"),q=l("spacing"),W=l("radius"),R=l("shadow"),Q=l("inset-shadow"),_=l("text-shadow"),H=l("drop-shadow"),g=l("blur"),K=l("perspective"),P=l("aspect"),I=l("ease"),v=l("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],a=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],p=()=>[...a(),j,F],o=()=>["auto","hidden","clip","visible","scroll"],r=()=>["auto","contain","none"],k=()=>[j,F,q],L=()=>[c0,"full","auto",...k()],W0=()=>[l0,"none","subgrid",j,F],b0=()=>["auto",{span:["full",l0,j,F]},l0,j,F],B1=()=>[l0,"auto",j,F],b8=()=>["auto","min","max","fr",j,F],y5=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],u1=()=>["start","end","center","stretch","center-safe","end-safe"],M0=()=>["auto",...k()],Y1=()=>[c0,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],v5=()=>[c0,"screen","full","dvw","lvw","svw","min","max","fit",...k()],O5=()=>[c0,"screen","full","lh","dvh","lvh","svh","min","max","fit",...k()],u=()=>[$,j,F],M8=()=>[...a(),U3,A3,{position:[j,F]}],D8=()=>["no-repeat",{repeat:["","x","y","space","round"]}],f8=()=>["auto","cover","contain",M$,u$,{size:[j,F]}],C5=()=>[a5,d1,_1],B0=()=>["","none","full",W,j,F],Y0=()=>["",b,d1,_1],K2=()=>["solid","dashed","dotted","double"],y8=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],t=()=>[b,a5,U3,A3],v8=()=>["","none",g,j,F],A2=()=>["none",b,j,F],U2=()=>["none",b,j,F],V5=()=>[b,j,F],g2=()=>[c0,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[E0],breakpoint:[E0],color:[u3],container:[E0],"drop-shadow":[E0],ease:["in","out","in-out"],font:[P$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[E0],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[E0],shadow:[E0],spacing:["px",b],text:[E0],"text-shadow":[E0],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",c0,F,j,P]}],container:["container"],columns:[{columns:[b,F,j,Y]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:p()}],overflow:[{overflow:o()}],"overflow-x":[{"overflow-x":o()}],"overflow-y":[{"overflow-y":o()}],overscroll:[{overscroll:r()}],"overscroll-x":[{"overscroll-x":r()}],"overscroll-y":[{"overscroll-y":r()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{"inset-s":L(),start:L()}],end:[{"inset-e":L(),end:L()}],"inset-bs":[{"inset-bs":L()}],"inset-be":[{"inset-be":L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[l0,"auto",j,F]}],basis:[{basis:[c0,"full","auto",Y,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[b,c0,"auto","initial","none",F]}],grow:[{grow:["",b,j,F]}],shrink:[{shrink:["",b,j,F]}],order:[{order:[l0,"first","last","none",j,F]}],"grid-cols":[{"grid-cols":W0()}],"col-start-end":[{col:b0()}],"col-start":[{"col-start":B1()}],"col-end":[{"col-end":B1()}],"grid-rows":[{"grid-rows":W0()}],"row-start-end":[{row:b0()}],"row-start":[{"row-start":B1()}],"row-end":[{"row-end":B1()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":b8()}],"auto-rows":[{"auto-rows":b8()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...y5(),"normal"]}],"justify-items":[{"justify-items":[...u1(),"normal"]}],"justify-self":[{"justify-self":["auto",...u1()]}],"align-content":[{content:["normal",...y5()]}],"align-items":[{items:[...u1(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...u1(),{baseline:["","last"]}]}],"place-content":[{"place-content":y5()}],"place-items":[{"place-items":[...u1(),"baseline"]}],"place-self":[{"place-self":["auto",...u1()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pbs:[{pbs:k()}],pbe:[{pbe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:M0()}],mx:[{mx:M0()}],my:[{my:M0()}],ms:[{ms:M0()}],me:[{me:M0()}],mbs:[{mbs:M0()}],mbe:[{mbe:M0()}],mt:[{mt:M0()}],mr:[{mr:M0()}],mb:[{mb:M0()}],ml:[{ml:M0()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y1()}],"inline-size":[{inline:["auto",...v5()]}],"min-inline-size":[{"min-inline":["auto",...v5()]}],"max-inline-size":[{"max-inline":["none",...v5()]}],"block-size":[{block:["auto",...O5()]}],"min-block-size":[{"min-block":["auto",...O5()]}],"max-block-size":[{"max-block":["none",...O5()]}],w:[{w:[Y,"screen",...Y1()]}],"min-w":[{"min-w":[Y,"screen","none",...Y1()]}],"max-w":[{"max-w":[Y,"screen","none","prose",{screen:[B]},...Y1()]}],h:[{h:["screen","lh",...Y1()]}],"min-h":[{"min-h":["screen","lh","none",...Y1()]}],"max-h":[{"max-h":["screen","lh",...Y1()]}],"font-size":[{text:["base",z,d1,_1]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[T,f$,L$]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",a5,F]}],"font-family":[{font:[b$,G$,w]}],"font-features":[{"font-features":[F]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[J,j,F]}],"line-clamp":[{"line-clamp":[b,"none",j,K3]}],leading:[{leading:[Z,...k()]}],"list-image":[{"list-image":["none",j,F]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",j,F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:u()}],"text-color":[{text:u()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K2(),"wavy"]}],"text-decoration-thickness":[{decoration:[b,"from-font","auto",j,_1]}],"text-decoration-color":[{decoration:u()}],"underline-offset":[{"underline-offset":[b,"auto",j,F]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",j,F]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",j,F]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M8()}],"bg-repeat":[{bg:D8()}],"bg-size":[{bg:f8()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},l0,j,F],radial:["",j,F],conic:[l0,j,F]},D$,S$]}],"bg-color":[{bg:u()}],"gradient-from-pos":[{from:C5()}],"gradient-via-pos":[{via:C5()}],"gradient-to-pos":[{to:C5()}],"gradient-from":[{from:u()}],"gradient-via":[{via:u()}],"gradient-to":[{to:u()}],rounded:[{rounded:B0()}],"rounded-s":[{"rounded-s":B0()}],"rounded-e":[{"rounded-e":B0()}],"rounded-t":[{"rounded-t":B0()}],"rounded-r":[{"rounded-r":B0()}],"rounded-b":[{"rounded-b":B0()}],"rounded-l":[{"rounded-l":B0()}],"rounded-ss":[{"rounded-ss":B0()}],"rounded-se":[{"rounded-se":B0()}],"rounded-ee":[{"rounded-ee":B0()}],"rounded-es":[{"rounded-es":B0()}],"rounded-tl":[{"rounded-tl":B0()}],"rounded-tr":[{"rounded-tr":B0()}],"rounded-br":[{"rounded-br":B0()}],"rounded-bl":[{"rounded-bl":B0()}],"border-w":[{border:Y0()}],"border-w-x":[{"border-x":Y0()}],"border-w-y":[{"border-y":Y0()}],"border-w-s":[{"border-s":Y0()}],"border-w-e":[{"border-e":Y0()}],"border-w-bs":[{"border-bs":Y0()}],"border-w-be":[{"border-be":Y0()}],"border-w-t":[{"border-t":Y0()}],"border-w-r":[{"border-r":Y0()}],"border-w-b":[{"border-b":Y0()}],"border-w-l":[{"border-l":Y0()}],"divide-x":[{"divide-x":Y0()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y0()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...K2(),"hidden","none"]}],"divide-style":[{divide:[...K2(),"hidden","none"]}],"border-color":[{border:u()}],"border-color-x":[{"border-x":u()}],"border-color-y":[{"border-y":u()}],"border-color-s":[{"border-s":u()}],"border-color-e":[{"border-e":u()}],"border-color-bs":[{"border-bs":u()}],"border-color-be":[{"border-be":u()}],"border-color-t":[{"border-t":u()}],"border-color-r":[{"border-r":u()}],"border-color-b":[{"border-b":u()}],"border-color-l":[{"border-l":u()}],"divide-color":[{divide:u()}],"outline-style":[{outline:[...K2(),"none","hidden"]}],"outline-offset":[{"outline-offset":[b,j,F]}],"outline-w":[{outline:["",b,d1,_1]}],"outline-color":[{outline:u()}],shadow:[{shadow:["","none",R,h2,V2]}],"shadow-color":[{shadow:u()}],"inset-shadow":[{"inset-shadow":["none",Q,h2,V2]}],"inset-shadow-color":[{"inset-shadow":u()}],"ring-w":[{ring:Y0()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:u()}],"ring-offset-w":[{"ring-offset":[b,_1]}],"ring-offset-color":[{"ring-offset":u()}],"inset-ring-w":[{"inset-ring":Y0()}],"inset-ring-color":[{"inset-ring":u()}],"text-shadow":[{"text-shadow":["none",_,h2,V2]}],"text-shadow-color":[{"text-shadow":u()}],opacity:[{opacity:[b,j,F]}],"mix-blend":[{"mix-blend":[...y8(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":y8()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[b]}],"mask-image-linear-from-pos":[{"mask-linear-from":t()}],"mask-image-linear-to-pos":[{"mask-linear-to":t()}],"mask-image-linear-from-color":[{"mask-linear-from":u()}],"mask-image-linear-to-color":[{"mask-linear-to":u()}],"mask-image-t-from-pos":[{"mask-t-from":t()}],"mask-image-t-to-pos":[{"mask-t-to":t()}],"mask-image-t-from-color":[{"mask-t-from":u()}],"mask-image-t-to-color":[{"mask-t-to":u()}],"mask-image-r-from-pos":[{"mask-r-from":t()}],"mask-image-r-to-pos":[{"mask-r-to":t()}],"mask-image-r-from-color":[{"mask-r-from":u()}],"mask-image-r-to-color":[{"mask-r-to":u()}],"mask-image-b-from-pos":[{"mask-b-from":t()}],"mask-image-b-to-pos":[{"mask-b-to":t()}],"mask-image-b-from-color":[{"mask-b-from":u()}],"mask-image-b-to-color":[{"mask-b-to":u()}],"mask-image-l-from-pos":[{"mask-l-from":t()}],"mask-image-l-to-pos":[{"mask-l-to":t()}],"mask-image-l-from-color":[{"mask-l-from":u()}],"mask-image-l-to-color":[{"mask-l-to":u()}],"mask-image-x-from-pos":[{"mask-x-from":t()}],"mask-image-x-to-pos":[{"mask-x-to":t()}],"mask-image-x-from-color":[{"mask-x-from":u()}],"mask-image-x-to-color":[{"mask-x-to":u()}],"mask-image-y-from-pos":[{"mask-y-from":t()}],"mask-image-y-to-pos":[{"mask-y-to":t()}],"mask-image-y-from-color":[{"mask-y-from":u()}],"mask-image-y-to-color":[{"mask-y-to":u()}],"mask-image-radial":[{"mask-radial":[j,F]}],"mask-image-radial-from-pos":[{"mask-radial-from":t()}],"mask-image-radial-to-pos":[{"mask-radial-to":t()}],"mask-image-radial-from-color":[{"mask-radial-from":u()}],"mask-image-radial-to-color":[{"mask-radial-to":u()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":a()}],"mask-image-conic-pos":[{"mask-conic":[b]}],"mask-image-conic-from-pos":[{"mask-conic-from":t()}],"mask-image-conic-to-pos":[{"mask-conic-to":t()}],"mask-image-conic-from-color":[{"mask-conic-from":u()}],"mask-image-conic-to-color":[{"mask-conic-to":u()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M8()}],"mask-repeat":[{mask:D8()}],"mask-size":[{mask:f8()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",j,F]}],filter:[{filter:["","none",j,F]}],blur:[{blur:v8()}],brightness:[{brightness:[b,j,F]}],contrast:[{contrast:[b,j,F]}],"drop-shadow":[{"drop-shadow":["","none",H,h2,V2]}],"drop-shadow-color":[{"drop-shadow":u()}],grayscale:[{grayscale:["",b,j,F]}],"hue-rotate":[{"hue-rotate":[b,j,F]}],invert:[{invert:["",b,j,F]}],saturate:[{saturate:[b,j,F]}],sepia:[{sepia:["",b,j,F]}],"backdrop-filter":[{"backdrop-filter":["","none",j,F]}],"backdrop-blur":[{"backdrop-blur":v8()}],"backdrop-brightness":[{"backdrop-brightness":[b,j,F]}],"backdrop-contrast":[{"backdrop-contrast":[b,j,F]}],"backdrop-grayscale":[{"backdrop-grayscale":["",b,j,F]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b,j,F]}],"backdrop-invert":[{"backdrop-invert":["",b,j,F]}],"backdrop-opacity":[{"backdrop-opacity":[b,j,F]}],"backdrop-saturate":[{"backdrop-saturate":[b,j,F]}],"backdrop-sepia":[{"backdrop-sepia":["",b,j,F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",j,F]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[b,"initial",j,F]}],ease:[{ease:["linear","initial",I,j,F]}],delay:[{delay:[b,j,F]}],animate:[{animate:["none",v,j,F]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[K,j,F]}],"perspective-origin":[{"perspective-origin":p()}],rotate:[{rotate:A2()}],"rotate-x":[{"rotate-x":A2()}],"rotate-y":[{"rotate-y":A2()}],"rotate-z":[{"rotate-z":A2()}],scale:[{scale:U2()}],"scale-x":[{"scale-x":U2()}],"scale-y":[{"scale-y":U2()}],"scale-z":[{"scale-z":U2()}],"scale-3d":["scale-3d"],skew:[{skew:V5()}],"skew-x":[{"skew-x":V5()}],"skew-y":[{"skew-y":V5()}],transform:[{transform:[j,F,"","none","gpu","cpu"]}],"transform-origin":[{origin:p()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:g2()}],"translate-x":[{"translate-x":g2()}],"translate-y":[{"translate-y":g2()}],"translate-z":[{"translate-z":g2()}],"translate-none":["translate-none"],accent:[{accent:u()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:u()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",j,F]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mbs":[{"scroll-mbs":k()}],"scroll-mbe":[{"scroll-mbe":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pbs":[{"scroll-pbs":k()}],"scroll-pbe":[{"scroll-pbe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",j,F]}],fill:[{fill:["none",...u()]}],"stroke-w":[{stroke:[b,d1,_1,K3]}],stroke:[{stroke:["none",...u()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}};var y3=Q$(v$);function U(...$){return y3(C2($))}var a1=Array.isArray;function r2($){var w=typeof $;return w==="string"||w==="number"}function y($){return $===void 0||$===null}function t1($){return $===null||$===!1||$===!0||$===void 0}function O($){return typeof $==="function"}function n1($){return typeof $==="string"}function O$($){return typeof $==="number"}function R0($){return $===null}function C$($){return $===void 0}function g1($,w){var z={};if($)for(var T in $)z[T]=$[T];if(w)for(var J in w)z[J]=w[J];return z}function J4($){return!R0($)&&typeof $==="object"}var z0={},V$="$F",e1=function $(){this.componentDidAppear=[],this.componentWillDisappear=[],this.componentWillMove=[]};function Z4($){return $.substring(2).toLowerCase()}function E3($,w){$.appendChild(w)}function i2($,w,z){if(R0(z))E3($,w);else $.insertBefore(w,z)}function h$($,w){if(w)return document.createElementNS("http://www.w3.org/2000/svg",$);return document.createElement($)}function x$($,w,z){$.replaceChild(w,z)}function N3($,w){$.removeChild(w)}function E$($){for(var w=0;w<$.length;w++)$[w]()}function N$($,w,z){var T=$.children;if(z&4)return T.$LI;if(z&8192)return $.childFlags===2?T:T[w?0:T.length-1];return T}function j0($,w){var z;while($){if(z=$.flags,z&1521)return $.dom;$=N$($,w,z)}return null}function X4($,w){var z=$.length,T;while((T=$.pop())!==void 0)T(function(){if(--z<=0&&O(w))w()})}function p$($){for(var w=0;w<$.length;w++)$[w].fn();for(var z=0;z<$.length;z++){var T=$[z];i2(T.parent,T.dom,T.next)}$.splice(0,$.length)}function d2($,w,z){do{var T=$.flags;if(T&1521){if(!z||$.dom.parentNode===w)N3(w,$.dom);return}var J=$.children;if(T&4)$=J.$LI;if(T&8)$=J;if(T&8192)if($.childFlags===2)$=J;else{for(var Z=0,B=J.length;Z<B;++Z)d2(J[Z],w,!1);return}}while($)}function r$($,w){return function(){d2($,w,!0)}}function o2($,w,z){if(z.componentWillDisappear.length>0)X4(z.componentWillDisappear,r$($,w));else d2($,w,!1)}function m$($,w,z,T,J,Z,B,Y){$.componentWillMove.push({dom:T,fn:function q(){if(B&4)z.componentWillMove(w,J,T);else if(B&8)z.onComponentWillMove(w,J,T,Y)},next:Z,parent:J})}function p3($,w,z,T,J){var Z,B,Y=w.flags;do{var q=w.flags;if(q&1521){if(!y(Z)&&(O(Z.componentWillMove)||O(Z.onComponentWillMove)))m$(J,$,Z,w.dom,z,T,Y,B);else i2(z,w.dom,T);return}var W=w.children;if(q&4)Z=w.children,B=w.props,w=W.$LI;else if(q&8)Z=w.ref,B=w.props,w=W;else if(q&8192)if(w.childFlags===2)w=W;else{for(var R=0,Q=W.length;R<Q;++R)p3($,W[R],z,T,J);return}}while(w)}function r3($,w,z){if($.constructor.getDerivedStateFromProps)return g1(z,$.constructor.getDerivedStateFromProps(w,z));return z}var $4={v:!1},m2={componentComparator:null,createVNode:null,renderComplete:null};function c1($,w){$.textContent=w}function m3($,w){return J4($)&&$.event===w.event&&$.data===w.data}function s3($,w){for(var z in w)if(C$($[z]))$[z]=w[z];return $}function B4($,w){return!!O($)&&($(w),!0)}var l1="$";function c2($,w,z,T,J,Z,B,Y){this.childFlags=$,this.children=w,this.className=z,this.dom=null,this.flags=T,this.key=J===void 0?null:J,this.props=Z===void 0?null:Z,this.ref=B===void 0?null:B,this.type=Y}function Y4($,w,z,T,J,Z,B,Y){var q=J===void 0?1:J,W=new c2(q,T,z,$,B,Z,Y,w);if(m2.createVNode)m2.createVNode(W);if(q===0)c$(W,W.children);return W}function s$($,w,z){if($&4)return z;var T=($&32768?w.render:w).defaultHooks;if(y(T))return z;if(y(z))return T;return s3(z,T)}function i$($,w,z){var T=($&32768?w.render:w).defaultProps;if(y(T))return z;if(y(z))return g1(T,null);return s3(z,T)}function d$($,w){if($&12)return $;if(w.prototype&&w.prototype.render)return 4;if(w.render)return 32776;return 8}function i3($,w,z,T,J){$=d$($,w);var Z=new c2(1,null,null,$,T,i$($,w,z),s$($,w,J),w);if(m2.createVNode)m2.createVNode(Z);return Z}function w2($,w){return new c2(1,y($)||$===!0||$===!1?"":$,null,16,w,null,null,null)}function l2($,w,z){var T=Y4(8192,8192,null,$,w,null,z,null);switch(T.childFlags){case 1:T.children=a2(),T.childFlags=2;break;case 16:T.children=[w2($)],T.childFlags=4;break}return T}function o$($){var{children:w,childFlags:z}=$;return l2(z===2?T0(w):w.map(T0),z,$.key)}function T0($){var w=$.flags&-16385,z=$.props;if(w&14){if(!R0(z)){var T=z;z={};for(var J in T)z[J]=T[J]}}if((w&8192)===0)return new c2($.childFlags,$.children,$.className,w,$.key,z,$.ref,$.type);return o$($)}function a2(){return w2("",null)}function d3($,w,z,T){for(var J=$.length;z<J;z++){var Z=$[z];if(!t1(Z)){var B=T+l1+z;if(a1(Z))d3(Z,w,0,B);else{if(r2(Z))Z=w2(Z,B);else{var Y=Z.key,q=n1(Y)&&Y[0]===l1;if(Z.flags&81920||q)Z=T0(Z);if(Z.flags|=65536,!q)if(R0(Y))Z.key=B;else Z.key=T+Y;else if(Y.substring(0,T.length)!==T)Z.key=T+Y}w.push(Z)}}}}function o3($){switch($){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case V$:return 8192;default:return 1}}function c$($,w){var z,T=1;if(t1(w))z=w;else if(r2(w))T=16,z=w;else if(a1(w)){var J=w.length;for(var Z=0;Z<J;++Z){var B=w[Z];if(t1(B)||a1(B)){z=z||w.slice(0,Z),d3(w,z,Z,"");break}else if(r2(B))z=z||w.slice(0,Z),z.push(w2(B,l1+Z));else{var Y=B.key,q=(B.flags&81920)>0,W=R0(Y),R=n1(Y)&&Y[0]===l1;if(q||W||R){if(z=z||w.slice(0,Z),q||R)B=T0(B);if(W||R)B.key=l1+Z;z.push(B)}else if(z)z.push(B);B.flags|=65536}}if(z=z||w,z.length===0)T=1;else T=8}else{if(z=w,z.flags|=65536,w.flags&81920)z=T0(w);T=2}return $.children=z,$.childFlags=T,$}function q4($){if(t1($)||r2($))return w2($,null);if(a1($))return l2($,0,null);return $.flags&16384?T0($):$}var K1="http://www.w3.org/1999/xlink",e5="http://www.w3.org/XML/1998/namespace",v3={"xlink:actuate":K1,"xlink:arcrole":K1,"xlink:href":K1,"xlink:role":K1,"xlink:show":K1,"xlink:title":K1,"xlink:type":K1,"xml:base":e5,"xml:lang":e5,"xml:space":e5};function t2($){return{onClick:$,onDblClick:$,onFocusIn:$,onFocusOut:$,onKeyDown:$,onKeyPress:$,onKeyUp:$,onMouseDown:$,onMouseMove:$,onMouseUp:$,onTouchEnd:$,onTouchMove:$,onTouchStart:$}}var c3=t2(0),w4=t2(null),l3=t2(!0);function O3($,w){var z=w.$EV;if(!z)z=w.$EV=t2(null);if(!z[$]){if(++c3[$]===1)w4[$]=zw($)}return z}function a3($,w){var z=w.$EV;if(z&&z[$]){if(--c3[$]===0)document.removeEventListener(Z4($),w4[$]),w4[$]=null;z[$]=null}}function l$($,w,z,T){if(O(z))O3($,T)[$]=z;else if(J4(z)){if(m3(w,z))return;O3($,T)[$]=z}else a3($,T)}function a$($){return O($.composedPath)?$.composedPath()[0]:$.target}function t3($,w,z,T){var J=a$($);do{if(w&&J.disabled)return;var Z=J.$EV;if(Z){var B=Z[z];if(B){if(T.dom=J,B.event?B.event(B.data,$):B($),$.cancelBubble)return}}J=J.parentNode}while(!R0(J))}function t$(){if(this.cancelBubble=!0,!this.immediatePropagationStopped)this.stopImmediatePropagation()}function n$(){return this.defaultPrevented}function e$(){return this.cancelBubble}function n3($){var w={dom:document};return $.isDefaultPrevented=n$,$.isPropagationStopped=e$,$.stopPropagation=t$,Object.defineProperty($,"currentTarget",{configurable:!0,get:function z(){return w.dom}}),w}function $w($){return function(w){if(w.button!==0){w.stopPropagation();return}t3(w,!0,$,n3(w))}}function ww($){return function(w){t3(w,!1,$,n3(w))}}function zw($){var w=$==="onClick"||$==="onDblClick"?$w($):ww($);return document.addEventListener(Z4($),w),w}function Tw($,w){var z=document.createElement("i");return z.innerHTML=w,z.innerHTML===$.innerHTML}function C3($,w,z){if($[w]){var T=$[w];if(T.event)T.event(T.data,z);else T(z)}else{var J=w.toLowerCase();if($[J])$[J](z)}}function z2($,w){var z=function T(J){var Z=this.$V;if(!Z)return;var B=Z.props||z0,Y=Z.dom;if(n1($))C3(B,$,J);else for(var q=0;q<$.length;++q)C3(B,$[q],J);if(O(w)){var W=this.$V,R=W.props||z0;w(R,Y,!1,W)}};return Object.defineProperty(z,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),z}function A1($,w,z){var T="$"+w,J=$[T];if(J){if(J[1].wrapped)return;$.removeEventListener(J[0],J[1]),$[T]=null}if(O(z))$.addEventListener(w,z),$[T]=[w,z]}function R4($){return $==="checkbox"||$==="radio"}var Jw=z2("onInput",W4),Zw=z2(["onClick","onChange"],W4);function e3($){$.stopPropagation()}e3.wrapped=!0;function Xw($,w){if(R4(w.type))A1($,"change",Zw),A1($,"click",e3);else A1($,"input",Jw)}function W4($,w){var{type:z,value:T,checked:J,multiple:Z,defaultValue:B}=$,Y=!y(T);if(z&&z!==w.type)w.setAttribute("type",z);if(!y(Z)&&Z!==w.multiple)w.multiple=Z;if(!y(B)&&!Y)w.defaultValue=B+"";if(R4(z)){if(Y)w.value=T;if(!y(J))w.checked=J}else if(Y&&w.value!==T)w.defaultValue=T,w.value=T;else if(!y(J))w.checked=J}function o1($,w){if($.type==="option")Bw($,w);else{var{children:z,flags:T}=$;if(T&4)o1(z.$LI,w);else if(T&8)o1(z,w);else if($.childFlags===2)o1(z,w);else if($.childFlags&12)for(var J=0,Z=z.length;J<Z;++J)o1(z[J],w)}}function Bw($,w){var z=$.props||z0,T=$.dom;if(T.value=z.value,z.value===w||a1(w)&&w.indexOf(z.value)!==-1)T.selected=!0;else if(!y(w)||!y(z.selected))T.selected=z.selected||!1}var Yw=z2("onChange",$6);function qw($){A1($,"change",Yw)}function $6($,w,z,T){var J=Boolean($.multiple);if(!y($.multiple)&&J!==w.multiple)w.multiple=J;var Z=$.selectedIndex;if(Z===-1)w.selectedIndex=-1;var B=T.childFlags;if(B!==1){var Y=$.value;if(O$(Z)&&Z>-1&&w.options[Z])Y=w.options[Z].value;if(z&&y(Y))Y=$.defaultValue;o1(T,Y)}}var Rw=z2("onInput",w6),Ww=z2("onChange");function Qw($,w){if(A1($,"input",Rw),w.onChange)A1($,"change",Ww)}function w6($,w,z){var T=$.value,J=w.value;if(y(T)){if(z){var Z=$.defaultValue;if(!y(Z)&&Z!==J)w.defaultValue=Z,w.value=Z}}else if(J!==T)w.defaultValue=T,w.value=T}function z6($,w,z,T,J,Z){if($&64)W4(T,z);else if($&256)$6(T,z,J,w);else if($&128)w6(T,z,J);if(Z)z.$V=w}function _w($,w,z){if($&64)Xw(w,z);else if($&256)qw(w);else if($&128)Qw(w,z)}function T6($){return $.type&&R4($.type)?!y($.checked):!y($.value)}function s2($){if($){if(!B4($,null)&&$.current)$.current=null}}function n2($,w,z){if($&&(O($)||$.current!==void 0))z.push(function(){if(!B4($,w)&&$.current!==void 0)$.current=w})}function O0($,w,z){p0($,z),o2($,w,z)}function p0($,w){var{flags:z,children:T}=$,J;if(z&481){J=$.ref;var Z=$.props;s2(J);var B=$.childFlags;if(!R0(Z)){var Y=Object.keys(Z);for(var q=0,W=Y.length;q<W;q++){var R=Y[q];if(l3[R])a3(R,$.dom)}}if(B&12)$2(T,w);else if(B===2)p0(T,w)}else if(T){if(z&4){if(O(T.componentWillUnmount))T.componentWillUnmount();var Q=w;if(O(T.componentWillDisappear))Q=new e1,V3(w,T,T.$LI.dom,z,void 0);s2($.ref),T.$UN=!0,p0(T.$LI,Q)}else if(z&8){var _=w;if(J=$.ref,!y(J)){var H=null;if(O(J.onComponentWillUnmount))H=j0($,!0),J.onComponentWillUnmount(H,$.props||z0);if(O(J.onComponentWillDisappear))_=new e1,H=H||j0($,!0),V3(w,J,H,z,$.props)}p0(T,_)}else if(z&1024)O0(T,$.ref,w);else if(z&8192){if($.childFlags&12)$2(T,w)}}}function $2($,w){for(var z=0,T=$.length;z<T;++z)p0($[z],w)}function Hw($,w){return function(){if(w)for(var z=0;z<$.length;z++){var T=$[z];d2(T,w,!1)}}}function E2($,w,z){if(z.componentWillDisappear.length>0)X4(z.componentWillDisappear,Hw(w,$));else $.textContent=""}function N2($,w,z,T){if($2(z,T),w.flags&8192)o2(w,$,T);else E2($,z,T)}function V3($,w,z,T,J){$.componentWillDisappear.push(function(Z){if(T&4)w.componentWillDisappear(z,Z);else if(T&8)w.onComponentWillDisappear(z,J,Z)})}function Kw($){var w=$.event;return function(z){w($.data,z)}}function Aw($,w,z,T){if(J4(z)){if(m3(w,z))return;z=Kw(z)}A1(T,Z4($),z)}function Uw($,w,z){if(y(w)){z.removeAttribute("style");return}var T=z.style,J,Z;if(n1(w)){T.cssText=w;return}if(!y($)&&!n1($)){for(J in w)if(Z=w[J],Z!==$[J])T.setProperty(J,Z);for(J in $)if(y(w[J]))T.removeProperty(J)}else for(J in w)Z=w[J],T.setProperty(J,Z)}function gw($,w,z,T,J){var Z=$&&$.__html||"",B=w&&w.__html||"";if(Z!==B){if(!y(B)&&!Tw(T,B)){if(!R0(z)){if(z.childFlags&12)$2(z.children,J);else if(z.childFlags===2)p0(z.children,J);z.children=null,z.childFlags=1}T.innerHTML=B}}}function z4($,w,z,T,J,Z,B,Y){switch($){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":T.autofocus=!!z;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":T[$]=!!z;break;case"defaultChecked":case"value":case"volume":if(Z&&$==="value")break;var q=y(z)?"":z;if(T[$]!==q)T[$]=q;break;case"style":Uw(w,z,T);break;case"dangerouslySetInnerHTML":gw(w,z,B,T,Y);break;default:if(l3[$])l$($,w,z,T);else if($.charCodeAt(0)===111&&$.charCodeAt(1)===110)Aw($,w,z,T);else if(y(z))T.removeAttribute($);else if(J&&v3[$])T.setAttributeNS(v3[$],$,z);else T.setAttribute($,z);break}}function Iw($,w,z,T,J,Z){var B=!1,Y=(w&448)>0;if(Y){if(B=T6(z),B)_w(w,T,z)}for(var q in z)z4(q,null,z[q],T,J,B,null,Z);if(Y)z6(w,$,T,z,!0,B)}function J6($,w,z){var T=q4($.render(w,$.state,z)),J=z;if(O($.getChildContext))J=g1(z,$.getChildContext());return $.$CX=J,T}function Fw($,w,z,T,J,Z){var B=new w(z,T),Y=B.$N=Boolean(w.getDerivedStateFromProps||B.getSnapshotBeforeUpdate);if(B.$SVG=J,B.$L=Z,$.children=B,B.$BS=!1,B.context=T,B.props===z0)B.props=z;if(!Y){if(O(B.componentWillMount)){B.$BR=!0,B.componentWillMount();var q=B.$PS;if(!R0(q)){var W=B.state;if(R0(W))B.state=q;else for(var R in q)W[R]=q[R];B.$PS=null}B.$BR=!1}}else B.state=r3(B,z,B.state);return B.$LI=J6(B,z,T),B}function Z6($,w){var z=$.props||z0;return $.flags&32768?$.type.render(z,$.ref,w):$.type(z,w)}function Z0($,w,z,T,J,Z,B){var Y=$.flags|=16384;if(Y&481)Pw($,w,z,T,J,Z,B);else if(Y&4)uw($,w,z,T,J,Z,B);else if(Y&8)Lw($,w,z,T,J,Z,B);else if(Y&16)X6($,w,J);else if(Y&8192)kw($,z,w,T,J,Z,B);else if(Y&1024)jw($,z,w,J,Z,B)}function jw($,w,z,T,J,Z){Z0($.children,$.ref,w,!1,null,J,Z);var B=a2();X6(B,z,T),$.dom=B.dom}function kw($,w,z,T,J,Z,B){var{children:Y,childFlags:q}=$;if(q&12&&Y.length===0)q=$.childFlags=2,Y=$.children=a2();if(q===2)Z0(Y,z,w,T,J,Z,B);else U1(Y,z,w,T,J,Z,B)}function X6($,w,z){var T=$.dom=document.createTextNode($.children);if(!R0(w))i2(w,T,z)}function Pw($,w,z,T,J,Z,B){var{flags:Y,props:q,className:W,childFlags:R}=$,Q=$.dom=h$($.type,T=T||(Y&32)>0),_=$.children;if(!y(W)&&W!=="")if(T)Q.setAttribute("class",W);else Q.className=W;if(R===16)c1(Q,_);else if(R!==1){var H=T&&$.type!=="foreignObject";if(R===2){if(_.flags&16384)$.children=_=T0(_);Z0(_,Q,z,H,null,Z,B)}else if(R===8||R===4)U1(_,Q,z,H,null,Z,B)}if(!R0(w))i2(w,Q,J);if(!R0(q))Iw($,Y,q,Q,T,B);n2($.ref,Q,Z)}function U1($,w,z,T,J,Z,B){for(var Y=0;Y<$.length;++Y){var q=$[Y];if(q.flags&16384)$[Y]=q=T0(q);Z0(q,w,z,T,J,Z,B)}}function uw($,w,z,T,J,Z,B){var Y=Fw($,$.type,$.props||z0,z,T,Z),q=B;if(O(Y.componentDidAppear))q=new e1;Z0(Y.$LI,w,Y.$CX,T,J,Z,q),Sw($.ref,Y,Z,B)}function Lw($,w,z,T,J,Z,B){var Y=$.ref,q=B;if(!y(Y)&&O(Y.onComponentDidAppear))q=new e1;Z0($.children=q4(Z6($,z)),w,z,T,J,Z,q),Mw($,Z,B)}function Gw($){return function(){$.componentDidMount()}}function B6($,w,z,T,J){$.componentDidAppear.push(function(){if(T&4)w.componentDidAppear(z);else if(T&8)w.onComponentDidAppear(z,J)})}function Sw($,w,z,T){if(n2($,w,z),O(w.componentDidMount))z.push(Gw(w));if(O(w.componentDidAppear))B6(T,w,w.$LI.dom,4,void 0)}function bw($,w){return function(){$.onComponentDidMount(j0(w,!0),w.props||z0)}}function Mw($,w,z){var T=$.ref;if(!y(T)){if(B4(T.onComponentWillMount,$.props||z0),O(T.onComponentDidMount))w.push(bw(T,$));if(O(T.onComponentDidAppear))B6(z,T,j0($,!0),8,$.props)}}function Dw($,w,z,T,J,Z,B){if(p0($,B),(w.flags&$.flags&1521)!==0)Z0(w,null,T,J,null,Z,B),x$(z,w.dom,$.dom);else Z0(w,z,T,J,j0($,!0),Z,B),o2($,z,B)}function t0($,w,z,T,J,Z,B,Y){var q=w.flags|=16384;if($.flags!==q||$.type!==w.type||$.key!==w.key||q&2048)if($.flags&16384)Dw($,w,z,T,J,B,Y);else Z0(w,z,T,J,Z,B,Y);else if(q&481)Cw($,w,T,J,q,B,Y);else if(q&4)xw($,w,z,T,J,Z,B,Y);else if(q&8)Ew($,w,z,T,J,Z,B,Y);else if(q&16)Nw($,w);else if(q&8192)vw($,w,z,T,J,B,Y);else Ow($,w,T,B,Y)}function fw($,w,z){if($!==w)if($!=="")z.firstChild.nodeValue=w;else c1(z,w)}function yw($,w){if($.textContent!==w)$.textContent=w}function vw($,w,z,T,J,Z,B){var Y=$.children,q=w.children,W=$.childFlags,R=w.childFlags,Q=null;if(R&12&&q.length===0)R=w.childFlags=2,q=w.children=a2();var _=(R&2)!==0;if(W&12){var H=Y.length;if(W&8&&R&8||_||!_&&q.length>H)Q=j0(Y[H-1],!1).nextSibling}Q4(W,R,Y,q,z,T,J,Q,$,Z,B)}function Ow($,w,z,T,J){var Z=$.ref,B=w.ref,Y=w.children;if(Q4($.childFlags,w.childFlags,$.children,Y,Z,z,!1,null,$,T,J),w.dom=$.dom,Z!==B&&!t1(Y)){var q=Y.dom;N3(Z,q),E3(B,q)}}function Cw($,w,z,T,J,Z,B){var Y=w.dom=$.dom,q=$.props,W=w.props,R=!1,Q=!1,_;if(T=T||(J&32)>0,q!==W){var H=q||z0;if(_=W||z0,_!==z0){if(R=(J&448)>0,R)Q=T6(_);for(var g in _){var K=H[g],P=_[g];if(K!==P)z4(g,K,P,Y,T,Q,$,B)}}if(H!==z0){for(var I in H)if(y(_[I])&&!y(H[I]))z4(I,H[I],null,Y,T,Q,$,B)}}var{children:v,className:V}=w;if($.className!==V)if(y(V))Y.removeAttribute("class");else if(T)Y.setAttribute("class",V);else Y.className=V;if(J&4096)yw(Y,v);else Q4($.childFlags,w.childFlags,$.children,v,Y,z,T&&w.type!=="foreignObject",null,$,Z,B);if(R)z6(J,w,Y,_,!1,Q);var a=w.ref,p=$.ref;if(p!==a)s2(p),n2(a,Y,Z)}function Vw($,w,z,T,J,Z,B){p0($,B),U1(w,z,T,J,j0($,!0),Z,B),o2($,z,B)}function Q4($,w,z,T,J,Z,B,Y,q,W,R){switch($){case 2:switch(w){case 2:t0(z,T,J,Z,B,Y,W,R);break;case 1:O0(z,J,R);break;case 16:p0(z,R),c1(J,T);break;default:Vw(z,T,J,Z,B,W,R);break}break;case 1:switch(w){case 2:Z0(T,J,Z,B,Y,W,R);break;case 1:break;case 16:c1(J,T);break;default:U1(T,J,Z,B,Y,W,R);break}break;case 16:switch(w){case 16:fw(z,T,J);break;case 2:E2(J,z,R),Z0(T,J,Z,B,Y,W,R);break;case 1:E2(J,z,R);break;default:E2(J,z,R),U1(T,J,Z,B,Y,W,R);break}break;default:switch(w){case 16:$2(z,R),c1(J,T);break;case 2:N2(J,q,z,R),Z0(T,J,Z,B,Y,W,R);break;case 1:N2(J,q,z,R);break;default:var Q=z.length|0,_=T.length|0;if(Q===0){if(_>0)U1(T,J,Z,B,Y,W,R)}else if(_===0)N2(J,q,z,R);else if(w===8&&$===8)rw(z,T,J,Z,B,Q,_,Y,q,W,R);else pw(z,T,J,Z,B,Q,_,Y,W,R);break}break}}function hw($,w,z,T,J){J.push(function(){$.componentDidUpdate(w,z,T)})}function Y6($,w,z,T,J,Z,B,Y,q,W){var{state:R,props:Q}=$,_=Boolean($.$N),H=O($.shouldComponentUpdate);if(_)w=r3($,z,w!==R?g1(R,w):w);if(B||!H||H&&$.shouldComponentUpdate(z,w,J)){if(!_&&O($.componentWillUpdate))$.componentWillUpdate(z,w,J);$.props=z,$.state=w,$.context=J;var g=null,K=J6($,z,J);if(_&&O($.getSnapshotBeforeUpdate))g=$.getSnapshotBeforeUpdate(Q,R);if(t0($.$LI,K,T,$.$CX,Z,Y,q,W),$.$LI=K,O($.componentDidUpdate))hw($,Q,R,g,q)}else $.props=z,$.state=w,$.context=J}function xw($,w,z,T,J,Z,B,Y){var q=w.children=$.children;if(R0(q))return;q.$L=B;var W=w.props||z0,R=w.ref,Q=$.ref,_=q.state;if(!q.$N){if(O(q.componentWillReceiveProps)){if(q.$BR=!0,q.componentWillReceiveProps(W,T),q.$UN)return;q.$BR=!1}if(!R0(q.$PS))_=g1(_,q.$PS),q.$PS=null}if(Y6(q,_,W,z,T,J,!1,Z,B,Y),Q!==R)s2(Q),n2(R,q,B)}function Ew($,w,z,T,J,Z,B,Y){var q=!0,W=w.props||z0,R=w.ref,Q=$.props,_=!y(R),H=$.children;if(_&&O(R.onComponentShouldUpdate))q=R.onComponentShouldUpdate(Q,W);if(q!==!1){if(_&&O(R.onComponentWillUpdate))R.onComponentWillUpdate(Q,W);var g=q4(Z6(w,T));if(t0(H,g,z,T,J,Z,B,Y),w.children=g,_&&O(R.onComponentDidUpdate))R.onComponentDidUpdate(Q,W)}else w.children=H}function Nw($,w){var z=w.children,T=w.dom=$.dom;if(z!==$.children)T.nodeValue=z}function pw($,w,z,T,J,Z,B,Y,q,W){var R=Z>B?B:Z,Q=0,_,H;for(;Q<R;++Q){if(_=w[Q],H=$[Q],_.flags&16384)_=w[Q]=T0(_);t0(H,_,z,T,J,Y,q,W),$[Q]=_}if(Z<B)for(Q=R;Q<B;++Q){if(_=w[Q],_.flags&16384)_=w[Q]=T0(_);Z0(_,z,T,J,Y,q,W)}else if(Z>B)for(Q=R;Q<Z;++Q)O0($[Q],z,W)}function rw($,w,z,T,J,Z,B,Y,q,W,R){var Q=Z-1,_=B-1,H=0,g=$[H],K=w[H],P,I;$:{while(g.key===K.key){if(K.flags&16384)w[H]=K=T0(K);if(t0(g,K,z,T,J,Y,W,R),$[H]=K,++H,H>Q||H>_)break $;g=$[H],K=w[H]}g=$[Q],K=w[_];while(g.key===K.key){if(K.flags&16384)w[_]=K=T0(K);if(t0(g,K,z,T,J,Y,W,R),$[Q]=K,Q--,_--,H>Q||H>_)break $;g=$[Q],K=w[_]}}if(H>Q){if(H<=_){P=_+1,I=P<B?j0(w[P],!0):Y;while(H<=_){if(K=w[H],K.flags&16384)w[H]=K=T0(K);++H,Z0(K,z,T,J,I,W,R)}}}else if(H>_)while(H<=Q)O0($[H++],z,R);else mw($,w,T,Z,B,Q,_,H,z,J,Y,q,W,R)}function mw($,w,z,T,J,Z,B,Y,q,W,R,Q,_,H){var g,K,P=0,I=0,v=Y,V=Y,a=Z-Y+1,p=B-Y+1,o=new Int32Array(p+1),r=a===T,k=!1,L=0,W0=0;if(J<4||(a|p)<32){for(I=v;I<=Z;++I)if(g=$[I],W0<p){for(Y=V;Y<=B;Y++)if(K=w[Y],g.key===K.key){if(o[Y-V]=I+1,r){r=!1;while(v<I)O0($[v++],q,H)}if(L>Y)k=!0;else L=Y;if(K.flags&16384)w[Y]=K=T0(K);t0(g,K,q,z,W,R,_,H),++W0;break}if(!r&&Y>B)O0(g,q,H)}else if(!r)O0(g,q,H)}else{var b0={};for(I=V;I<=B;++I)b0[w[I].key]=I;for(I=v;I<=Z;++I)if(g=$[I],W0<p){if(Y=b0[g.key],Y!==void 0){if(r){r=!1;while(I>v)O0($[v++],q,H)}if(o[Y-V]=I+1,L>Y)k=!0;else L=Y;if(K=w[Y],K.flags&16384)w[Y]=K=T0(K);t0(g,K,q,z,W,R,_,H),++W0}else if(!r)O0(g,q,H)}else if(!r)O0(g,q,H)}if(r)N2(q,Q,$,H),U1(w,q,z,W,R,_,H);else if(k){var B1=sw(o);Y=B1.length-1;for(I=p-1;I>=0;I--)if(o[I]===0){if(L=I+V,K=w[L],K.flags&16384)w[L]=K=T0(K);P=L+1,Z0(K,q,z,W,P<J?j0(w[P],!0):R,_,H)}else if(Y<0||I!==B1[Y])L=I+V,K=w[L],P=L+1,p3(Q,K,q,P<J?j0(w[P],!0):R,H);else Y--;if(H.componentWillMove.length>0)p$(H.componentWillMove)}else if(W0!==p){for(I=p-1;I>=0;I--)if(o[I]===0){if(L=I+V,K=w[L],K.flags&16384)w[L]=K=T0(K);P=L+1,Z0(K,q,z,W,P<J?j0(w[P],!0):R,_,H)}}}var N0,x2,h3=0;function sw($){var w=0,z=0,T=0,J=0,Z=0,B=0,Y=0,q=$.length;if(q>h3)h3=q,N0=new Int32Array(q),x2=new Int32Array(q);for(;z<q;++z)if(w=$[z],w!==0){if(T=N0[J],$[T]<w){x2[z]=T,N0[++J]=z;continue}Z=0,B=J;while(Z<B)if(Y=Z+B>>1,$[N0[Y]]<w)Z=Y+1;else B=Y;if(w<$[N0[Z]]){if(Z>0)x2[z]=N0[Z-1];N0[Z]=z}}Z=J+1;var W=new Int32Array(Z);B=N0[Z-1];while(Z-- >0)W[Z]=B,B=x2[B],N0[Z]=0;return W}var iw=typeof document!=="undefined";if(iw){if(window.Node)Node.prototype.$EV=null,Node.prototype.$V=null}var p2=[],dw=typeof Promise!=="undefined"?Promise.resolve().then.bind(Promise.resolve()):function($){window.setTimeout($,0)},T4=!1;function x3($,w,z,T){var J=$.$PS;if(O(w))w=w(J?g1($.state,J):$.state,$.props,$.context);if(y(J))$.$PS=w;else for(var Z in w)J[Z]=w[Z];if(!$.$BR){if(!$4.v){if(p2.length===0){if(q6($,T),O(z))z.call($);return}}if(p2.indexOf($)===-1)p2.push($);if(T)$.$F=!0;if(!T4)T4=!0,dw(cw);if(O(z)){var B=$.$QU;if(!B)B=$.$QU=[];B.push(z)}}else if(O(z))$.$L.push(z.bind($))}function ow($){var w=$.$QU;for(var z=0;z<w.length;++z)w[z].call($);$.$QU=null}function cw(){var $;T4=!1;while($=p2.shift())if(!$.$UN){var w=$.$F;if($.$F=!1,q6($,w),$.$QU)ow($)}}function q6($,w){if(w||!$.$BR){var z=$.$PS;$.$PS=null;var T=[],J=new e1;$4.v=!0,Y6($,g1($.state,z),$.props,j0($.$LI,!0).parentNode,$.context,$.$SVG,w,null,T,J),E$(T),X4(J.componentDidAppear),$4.v=!1}else $.state=$.$PS,$.$PS=null}var h=function(){function $(z,T){this.state=null,this.props=void 0,this.context=void 0,this.displayName=void 0,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$SSR=void 0,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=z||z0,this.context=T||z0}var w=$.prototype;return w.forceUpdate=function z(T){if(this.$UN)return;x3(this,{},T,!0)},w.setState=function z(T,J){if(this.$UN)return;if(!this.$BS)x3(this,T,J,!1)},w.render=function z(T,J,Z){return null},$}();h.defaultProps=null;function R6($){return $===void 0||$===null}function lw($){return typeof $==="string"}function W6($){return $===void 0}var aw={onComponentDidAppear:1,onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillDisappear:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function A($,w,z){var T,J=null,Z=null,B=null,Y,q,W=arguments.length-2;if(W===1)T=z;else if(W>1){T=[];while(W-- >0)T[W]=arguments[W+2]}if(lw($)){if(Y=o3($),!R6(w)){q={};for(var R in w)if(R==="className"||R==="class")B=w[R];else if(R==="key")Z=w.key;else if(R==="children"&&W6(T))T=w.children;else if(R==="ref")J=w.ref;else{if(R==="contenteditable")Y|=4096;q[R]=w[R]}}}else{if(Y=2,!W6(T)){if(!w)w={};w.children=T}if(!R6(w)){q={};for(var Q in w)if(Q==="key")Z=w.key;else if(Q==="ref")J=w.ref;else if(aw[Q]===1){if(!J)J={};J[Q]=w[Q]}else q[Q]=w[Q]}return i3(Y,$,q,Z,J)}if(Y&8192)return l2(W===1?[T]:T,0,Z);return Y4(Y,$,B,T,0,q,Z,J)}var Q6=($)=>typeof $==="boolean"?`${$}`:$===0?"0":$,_6=C2,k0=($,w)=>(z)=>{var T;if((w===null||w===void 0?void 0:w.variants)==null)return _6($,z===null||z===void 0?void 0:z.class,z===null||z===void 0?void 0:z.className);let{variants:J,defaultVariants:Z}=w,B=Object.keys(J).map((W)=>{let R=z===null||z===void 0?void 0:z[W],Q=Z===null||Z===void 0?void 0:Z[W];if(R===null)return null;let _=Q6(R)||Q6(Q);return J[W][_]}),Y=z&&Object.entries(z).reduce((W,R)=>{let[Q,_]=R;if(_===void 0)return W;return W[Q]=_,W},{}),q=w===null||w===void 0?void 0:(T=w.compoundVariants)===null||T===void 0?void 0:T.reduce((W,R)=>{let{class:Q,className:_,...H}=R;return Object.entries(H).every((g)=>{let[K,P]=g;return Array.isArray(P)?P.includes({...Z,...Y}[K]):{...Z,...Y}[K]===P})?[...W,Q,_]:W},[]);return _6($,B,q,z===null||z===void 0?void 0:z.class,z===null||z===void 0?void 0:z.className)};var e2=k0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium cursor-pointer transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*=size-])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border-2 border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md gap-1.5 px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs",lg:"h-10 rounded-md px-6",icon:"size-9","icon-sm":"size-8"}},defaultVariants:{variant:"default",size:"default"}});function x($){let{variant:w,size:z,className:T,disabled:J,type:Z="button",onClick:B,children:Y}=$;return A("button",{type:Z,disabled:J,onClick:B,className:U(e2({variant:w,size:z,className:T}))},Y)}var H6=k0("inline-flex items-center justify-center rounded-full border border-transparent px-2.5 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none transition-colors overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",destructive:"bg-destructive text-white",outline:"border-border text-foreground",ghost:"text-muted-foreground"}},defaultVariants:{variant:"default"}});function E({variant:$,className:w,children:z}){return A("span",{className:U(H6({variant:$}),w)},z)}function i({className:$,children:w,onClick:z}){return A("div",{"data-slot":"card",className:U("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",z&&"cursor-pointer",$),onClick:z},w)}function e({className:$,children:w}){return A("div",{"data-slot":"card-header",className:U("grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6",$)},w)}function X0({className:$,children:w}){return A("div",{"data-slot":"card-title",className:U("leading-none font-semibold",$)},w)}function n0({className:$,children:w}){return A("div",{"data-slot":"card-description",className:U("text-muted-foreground text-sm",$)},w)}function d({className:$,children:w}){return A("div",{"data-slot":"card-content",className:U("px-6",$)},w)}function _4({className:$,children:w}){return A("div",{"data-slot":"card-footer",className:U("flex items-center px-6",$)},w)}function Q0($){let{className:w,type:z="text",...T}=$;return A("input",{"data-slot":"input",type:z,...T,className:U("placeholder:text-muted-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-sm shadow-xs transition-[color,box-shadow] outline-none","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50",w)})}function $5($){let{className:w,rows:z=3,...T}=$;return A("textarea",{"data-slot":"textarea",rows:z,...T,className:U("border-input placeholder:text-muted-foreground flex min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","disabled:cursor-not-allowed disabled:opacity-50","resize-none",w)})}function r0({className:$,htmlFor:w,children:z}){return A("label",{"data-slot":"label",for:w,className:U("flex items-center gap-2 text-sm leading-none font-medium select-none","peer-disabled:cursor-not-allowed peer-disabled:opacity-50",$)},z)}function T2({className:$,checked:w=!1,disabled:z=!1,onChange:T}){return A("button",{"data-slot":"switch",type:"button",role:"switch","aria-checked":w,disabled:z,onClick:()=>T?.(!w),className:U("peer inline-flex h-5 w-9 shrink-0 items-center rounded-full border-2 border-transparent shadow-xs transition-all outline-none cursor-pointer","focus-visible:ring-ring/50 focus-visible:ring-[3px]","disabled:cursor-not-allowed disabled:opacity-50",w?"bg-primary":"bg-muted-foreground/40",$)},A("span",{"data-slot":"switch-thumb",className:U("pointer-events-none block size-4 rounded-full bg-background ring-0 transition-transform",w?"translate-x-4":"translate-x-0")}))}function e0({className:$,children:w}){return A("span",{"data-slot":"avatar",className:U("relative flex size-8 shrink-0 overflow-hidden rounded-full",$)},w)}class m0 extends h{constructor($){super($);this.state={failed:!1}}componentDidUpdate($){if($.src!==this.props.src)this.setState({failed:!1})}render(){if(this.state.failed||!this.props.src)return null;return A("img",{"data-slot":"avatar-image",src:this.props.src,alt:this.props.alt||"",onError:($)=>{this.setState({failed:!0}),this.props.onError?.($)},className:U("aspect-square size-full object-cover",this.props.className)})}}function $1({className:$,children:w}){return A("span",{"data-slot":"avatar-fallback",className:U("bg-muted flex size-full items-center justify-center rounded-full text-xs font-medium",$)},w)}function H4({className:$,orientation:w="horizontal"}){return A("div",{"data-slot":"separator",role:"separator",className:U("shrink-0 bg-border",w==="horizontal"?"h-px w-full":"h-full w-px",$)})}var tw={sm:"size-4 border-2",default:"size-6 border-3",lg:"size-8 border-4"};function s0({className:$,size:w="default"}){return A("div",{"data-slot":"spinner",role:"status","aria-label":"Loading",className:U("animate-spin rounded-full border-muted border-t-primary",tw[w],$)})}function _0({className:$}){return A("div",{"data-slot":"skeleton",className:U("bg-accent animate-pulse rounded-md",$)})}function K4($){let{className:w,value:z=0,max:T=100}=$,J=Math.min(100,Math.max(0,z/T*100));return A("div",{"data-slot":"progress",role:"progressbar","aria-valuenow":z,"aria-valuemin":0,"aria-valuemax":T,className:U("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",w)},A("div",{"data-slot":"progress-indicator",className:"bg-primary h-full transition-all duration-300 ease-in-out",style:{width:`${J}%`}}))}var K6=k0("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function P0({variant:$,className:w,children:z}){return A("div",{"data-slot":"alert",role:"alert",className:U(K6({variant:$}),w)},z)}function u0({className:$,children:w}){return A("div",{"data-slot":"alert-description",className:U("col-start-2 text-sm text-muted-foreground [&_p]:leading-relaxed",$)},w)}var A6=k0("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 outline-none focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:focus-visible:ring-destructive/20",{variants:{variant:{default:"bg-transparent hover:bg-muted hover:text-muted-foreground data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground data-[state=on]:bg-accent data-[state=on]:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});var w1=null,A4=new Set;function J2($){w1=$,A4.forEach((w)=>w())}function nw($){return A4.add($),()=>{A4.delete($)}}var ew=0;class U6 extends h{id=`nmi-${++ew}`;unsub=null;ref=null;constructor($){super($);this.state={open:!1}}handleOutside=($)=>{if(w1===this.id&&this.ref&&!this.ref.contains($.target))J2(null)};handleKey=($)=>{if($.key==="Escape"&&w1)J2(null)};componentDidMount(){this.unsub=nw(()=>{let $=w1===this.id;if(this.state.open!==$)this.setState({open:$})}),document.addEventListener("mousedown",this.handleOutside),document.addEventListener("keydown",this.handleKey)}componentWillUnmount(){if(this.unsub?.(),document.removeEventListener("mousedown",this.handleOutside),document.removeEventListener("keydown",this.handleKey),w1===this.id)J2(null)}handleClick=()=>{J2(w1===this.id?null:this.id)};handleMouseEnter=()=>{if(w1&&w1!==this.id)J2(this.id)};render(){let{className:$,children:w}=this.props,{open:z}=this.state,T=Array.isArray(w)?w:[w],J=null,Z=null,B=[];for(let Y of T){if(!Y)continue;if(Y.type===U4||Y.props&&Y.props["data-slot"]==="navigation-menu-trigger")J=Y;else if(Y.type===g6||Y.props&&Y.props["data-slot"]==="navigation-menu-content")Z=Y;else B.push(Y)}return A("li",{"data-slot":"navigation-menu-item",ref:(Y)=>{this.ref=Y},className:U("relative",$),onmouseenter:this.handleMouseEnter},J?A(U4,{...J.props||{},onClick:this.handleClick,"data-state":z?"open":"closed"},J.children!=null?J.children:J.props&&J.props.children):null,z&&Z?Z:null,...B)}}function U4($){let{className:w,onClick:z,children:T,...J}=$;return A("button",{"data-slot":"navigation-menu-trigger",type:"button",onClick:z,className:U("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors","hover:bg-accent hover:text-accent-foreground","focus-visible:outline-none","data-[state=open]:bg-accent/50",w),...J},T,A("svg",{className:U("relative top-px ml-1 size-3 transition-transform duration-200","group-data-[state=open]:rotate-180"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},A("path",{d:"M6 9l6 6 6-6"})))}function g6({className:$,children:w}){return A("div",{"data-slot":"navigation-menu-content",className:U("absolute left-0 top-full w-full md:w-auto","mt-1.5 min-w-[400px] md:min-w-[500px] lg:min-w-[600px] rounded-md border bg-popover p-4 text-popover-foreground shadow-lg","animate-in fade-in-0 zoom-in-95",$)},w)}var L1=null,I4=new Set;function g4($){L1=$,I4.forEach((w)=>w())}function $z($){return I4.add($),()=>{I4.delete($)}}var wz=0;class I6 extends h{id=`mbm-${++wz}`;unsub=null;constructor($){super($);this.state={open:!1}}componentDidMount(){this.unsub=$z(()=>{let $=L1===this.id;if(this.state.open!==$)this.setState({open:$})})}componentWillUnmount(){if(this.unsub?.(),L1===this.id)g4(null)}handleClick=()=>{g4(L1===this.id?null:this.id)};handleMouseEnter=()=>{if(L1&&L1!==this.id)g4(this.id)};render(){let{children:$}=this.props,{open:w}=this.state,z=Array.isArray($)?$:[$],T=null,J=null,Z=[];for(let B of z){if(!B)continue;if(B.type===F4||B.props&&B.props["data-slot"]==="menubar-trigger")T=B;else if(B.type===F6||B.props&&B.props["data-slot"]==="menubar-content")J=B;else Z.push(B)}return A("div",{"data-slot":"menubar-menu",className:"relative",onmouseenter:this.handleMouseEnter},T?A(F4,{...T.props||{},onClick:this.handleClick,"data-state":w?"open":"closed"},T.children!=null?T.children:T.props&&T.props.children):null,w&&J?J:null,...Z)}}function F4($){let{className:w,onClick:z,children:T,...J}=$;return A("button",{"data-slot":"menubar-trigger",type:"button",onClick:z,className:U("flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none","hover:bg-accent hover:text-accent-foreground","focus-visible:outline-none","data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",w),...J},T)}function F6({className:$,children:w}){return A("div",{"data-slot":"menubar-content",role:"menu",className:U("absolute left-0 top-full z-50 mt-1 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","animate-in fade-in-0 zoom-in-95",$)},w)}var iZ=k0("bg-background fixed z-50 flex flex-col gap-4 shadow-lg transition-transform duration-300 ease-in-out border",{variants:{side:{top:"inset-x-0 top-0 border-b",bottom:"inset-x-0 bottom-0 border-t",left:"inset-y-0 left-0 w-3/4 border-r sm:max-w-sm",right:"inset-y-0 right-0 w-3/4 border-l sm:max-w-sm"}},defaultVariants:{side:"right"}});class w5 extends h{raf=null;timer=null;constructor($){super($);this.state={mounted:$.open,visible:!1}}componentDidMount(){if(this.props.open)this.raf=requestAnimationFrame(()=>{this.raf=requestAnimationFrame(()=>{this.setState({visible:!0})})})}componentDidUpdate($){if(!$.open&&this.props.open)this.clearTimers(),this.setState({mounted:!0,visible:!1},()=>{this.raf=requestAnimationFrame(()=>{this.raf=requestAnimationFrame(()=>{this.setState({visible:!0})})})});else if($.open&&!this.props.open)this.setState({visible:!1}),this.timer=setTimeout(()=>this.setState({mounted:!1}),300)}componentWillUnmount(){this.clearTimers()}clearTimers(){if(this.raf)cancelAnimationFrame(this.raf),this.raf=null;if(this.timer)clearTimeout(this.timer),this.timer=null}render(){if(!this.state.mounted)return null;let{visible:$}=this.state,{onOpenChange:w,children:z}=this.props;return A(zz,{visible:$,onClose:()=>w?.(!1)},z)}}function zz({visible:$,onClose:w,children:z}){return A("div",{"data-slot":"drawer-portal",className:"fixed inset-0 z-50"},A("div",{"data-slot":"drawer-overlay",className:"fixed inset-0 bg-black/50",style:{opacity:$?1:0,transition:"opacity 300ms cubic-bezier(0.4,0,0.2,1)"},onClick:w}),A("div",{"data-slot":"drawer-content",className:"bg-background fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border-t",style:{transform:$?"translateY(0)":"translateY(100%)",transition:"transform 300ms cubic-bezier(0.32,0.72,0,1)"}},A("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),z))}function j4({className:$,children:w}){return A("div",{"data-slot":"drawer-content-inner",className:U("px-4",$)},w)}function k4({className:$,children:w}){return A("div",{"data-slot":"drawer-header",className:U("grid gap-1.5 p-4 text-center",$)},w)}function P4({className:$,children:w}){return A("h2",{"data-slot":"drawer-title",className:U("text-lg font-semibold leading-none tracking-tight",$)},w)}function u4({children:$}){return A("div",{"data-slot":"dropdown-menu",className:"relative inline-block"},$)}function L4({className:$,onClick:w,children:z}){return A("button",{"data-slot":"dropdown-menu-trigger",type:"button",onClick:w,className:U("outline-none",$)},z)}class z5 extends h{handleClickOutside=($)=>{let w=this.$LI?.dom;if(w&&!w.contains($.target))this.props.onClose?.()};handleKeyDown=($)=>{if($.key==="Escape")this.props.onClose?.()};componentDidMount(){setTimeout(()=>{document.addEventListener("mousedown",this.handleClickOutside),document.addEventListener("keydown",this.handleKeyDown)},0)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside),document.removeEventListener("keydown",this.handleKeyDown)}render(){let{className:$,align:w="end",side:z="bottom",open:T,children:J}=this.props;if(!T)return null;let Z={start:"left-0",center:"left-1/2 -translate-x-1/2",end:"right-0"},B={top:"bottom-full mb-1",bottom:"top-full mt-1"};return A("div",{"data-slot":"dropdown-menu-content",role:"menu",className:U("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",Z[w],B[z],$)},J)}}function T5($){let{className:w,disabled:z=!1,destructive:T=!1,onClick:J,children:Z}=$;return A("button",{"data-slot":"dropdown-menu-item",type:"button",role:"menuitem",disabled:z,onClick:J,className:U("relative flex w-full cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors","focus-visible:bg-accent focus-visible:text-accent-foreground","hover:bg-accent hover:text-accent-foreground","[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",z&&"pointer-events-none opacity-50",T&&"text-destructive focus-visible:text-destructive hover:text-destructive",w)},Z)}function J5({className:$}){return A("div",{"data-slot":"dropdown-menu-separator",role:"separator",className:U("bg-border -mx-1 my-1 h-px",$)})}function G4({className:$,children:w}){return A("div",{"data-slot":"dropdown-menu-label",className:U("px-2 py-1.5 text-sm font-semibold",$)},w)}class z1 extends h{timer=null;constructor($){super($);this.state={visible:!1}}componentWillUnmount(){if(this.timer)clearTimeout(this.timer)}show=()=>{let $=this.props.delayMs??200;this.timer=setTimeout(()=>this.setState({visible:!0}),$)};hide=()=>{if(this.timer)clearTimeout(this.timer);this.timer=null,this.setState({visible:!1})};render(){let{content:$,side:w="top",className:z,children:T}=this.props,{visible:J}=this.state,Z={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"};return A("div",{"data-slot":"tooltip",className:"relative inline-flex",onMouseEnter:this.show,onMouseLeave:this.hide,onFocus:this.show,onBlur:this.hide},T,J?A("div",{"data-slot":"tooltip-content",role:"tooltip",className:U("absolute z-50 w-fit rounded-md bg-popover border border-border px-3 py-1.5 text-xs text-popover-foreground shadow-md pointer-events-none whitespace-nowrap animate-in fade-in-0 zoom-in-95",Z[w],z)},$):null)}}var Z2=[],Z5=[],Tz=0;function j6(){Z5.forEach(($)=>$([...Z2]))}function X5($){let w=`toast-${++Tz}`,z={id:w,duration:4000,variant:"default",...$};return Z2=[...Z2,z],j6(),setTimeout(()=>{S4(w)},z.duration),w}function S4($){Z2=Z2.filter((w)=>w.id!==$),j6()}function Jz($){return Z5.push($),()=>{Z5=Z5.filter((w)=>w!==$)}}var Zz=k0("group pointer-events-auto relative flex w-full items-center justify-between gap-4 overflow-hidden rounded-md border p-4 shadow-lg transition-all",{variants:{variant:{default:"bg-background text-foreground border-border",destructive:"bg-destructive text-white border-destructive group"}},defaultVariants:{variant:"default"}});function Xz({data:$,onDismiss:w}){return A("div",{"data-slot":"toast",role:"alert",className:U(Zz({variant:$.variant}))},A("div",{className:"grid gap-1"},$.title?A("div",{"data-slot":"toast-title",className:"text-sm font-semibold"},$.title):null,$.description?A("div",{"data-slot":"toast-description",className:"text-sm opacity-90"},$.description):null),A("button",{"data-slot":"toast-close",type:"button",onClick:()=>w($.id),className:U("absolute top-2 right-2 rounded-md p-1 opacity-0 transition-opacity group-hover:opacity-100","outline-none focus-visible:opacity-100 focus-visible:ring-ring/50 focus-visible:ring-[3px]","hover:text-foreground"),"aria-label":"Dismiss"},A("svg",{className:"size-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},A("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))))}class G1 extends h{unsub=null;constructor($){super($);this.state={toasts:[]}}componentDidMount(){this.unsub=Jz(($)=>this.setState({toasts:$}))}componentWillUnmount(){this.unsub?.()}render(){let{toasts:$}=this.state;if($.length===0)return null;let w=3,z=$.slice(-w),T=$.length-z.length;return A("div",{"data-slot":"toaster",className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 w-full max-w-sm pointer-events-none"},T>0?A("div",{className:"text-center text-xs text-muted-foreground py-1"},`+${T} more`):null,...z.map((J)=>A(Xz,{key:J.id,data:J,onDismiss:S4})))}}function b4({className:$,children:w}){return A("div",{"data-slot":"scroll-area",className:U("relative overflow-auto","[&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar]:h-2","[&::-webkit-scrollbar-track]:bg-transparent","[&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-border",$)},w)}var Bz=1000,Yz=30000,qz=1e4;class M4{ws=null;url;accessToken="";handlers=new Map;reconnectAttempts=0;reconnectTimer=null;pingTimer=null;connected=!1;constructor($){let w=window.location.protocol==="https:"?"wss:":"ws:",z=$||window.location.host;this.url=`${w}//${z}/ws`}setAccessToken($){this.accessToken=$}on($,w){let z=this.handlers.get($)||[];z.push(w),this.handlers.set($,z)}off($,w){let z=this.handlers.get($)||[];this.handlers.set($,z.filter((T)=>T!==w))}connect(){if(this.ws)this.ws.close();let $=this.accessToken?`${this.url}?accessToken=${this.accessToken}`:this.url;this.ws=new WebSocket($),this.ws.onopen=()=>{this.connected=!0,this.reconnectAttempts=0,this.startPing(),console.log("[WS] Connected")},this.ws.onclose=(w)=>{this.connected=!1,this.stopPing(),console.log(`[WS] Disconnected (code=${w.code})`),this.scheduleReconnect()},this.ws.onerror=(w)=>{console.error("[WS] Error:",w)},this.ws.onmessage=(w)=>{try{let z=JSON.parse(w.data);if(z.type==="PONG")return;this.dispatch(z)}catch(z){console.error("[WS] Parse error:",z)}}}disconnect(){if(this.stopPing(),this.reconnectTimer)clearTimeout(this.reconnectTimer),this.reconnectTimer=null;if(this.ws)this.ws.onclose=null,this.ws.close(),this.ws=null;this.connected=!1}send($){if(this.ws&&this.connected)this.ws.send($)}sendChat($){this.send(JSON.stringify({type:"CHAT",body:$}))}isConnected(){return this.connected}dispatch($){let w=this.handlers.get($.type);if(w)for(let T of w)T($);let z=this.handlers.get("*");if(z)for(let T of z)T($)}startPing(){this.stopPing(),this.pingTimer=setInterval(()=>{this.send(JSON.stringify({type:"PING"}))},qz)}stopPing(){if(this.pingTimer)clearInterval(this.pingTimer),this.pingTimer=null}scheduleReconnect(){if(this.reconnectTimer)return;let $=Math.min(Bz*Math.pow(2,this.reconnectAttempts),Yz);this.reconnectAttempts++,console.log(`[WS] Reconnecting in ${$}ms (attempt ${this.reconnectAttempts})`),this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.connect()},$)}}async function B5($){let w=await fetch(`/api${$}`);if(!w.ok)throw new Error(`GET ${$} failed: ${w.status}`);return w.json()}async function Rz($,w){let z=await fetch(`/api${$}`,{method:"POST",headers:{"Content-Type":"application/json"},body:w?JSON.stringify(w):void 0});if(!z.ok)throw new Error(`POST ${$} failed: ${z.status}`);return z.json()}async function Wz($,w){let z=await fetch(`/api${$}?accessToken=${w}`);if(!z.ok)throw new Error(`GET ${$} failed: ${z.status}`);return z.json()}async function i0($,w){let z=await fetch(`/api${$}`,{headers:{Authorization:`Bearer ${w}`}});if(!z.ok)throw new Error(`GET ${$} failed: ${z.status}`);return z.json()}async function P6($,w,z){let T=await fetch(`/api${$}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:z?JSON.stringify(z):void 0});if(!T.ok)throw new Error(`POST ${$} failed: ${T.status}`);return T.json()}var K0={getStatus:()=>B5("/status"),getConfig:()=>B5("/config"),getEmoji:()=>B5("/emoji"),getChatHistory:($)=>Wz("/chat",$),registerChatUser:($)=>Rz("/chat/register",{displayName:$}),getVideoVariants:()=>B5("/video/variants"),admin:{getConfig:($)=>i0("/admin/serverconfig",$),getStatus:($)=>i0("/admin/status",$),getLogs:($)=>i0("/admin/logs",$),getViewers:($)=>i0("/admin/viewers",$),getHardware:($)=>i0("/admin/hardwareinfo",$),getChatMessages:($)=>i0("/admin/chat/messages",$),getWebhooks:($)=>i0("/admin/webhooks",$),getAccessTokens:($)=>i0("/admin/accesstokens",$),getFederationFollowers:($)=>i0("/admin/followers",$),updateConfig:($,w)=>P6("/admin/config",$,w),sendSystemMessage:($,w)=>P6("/admin/chat/send",$,{body:w})}};function u6($){try{return new Date($).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function L6($){if($===1)return"1 viewer";return`${$} viewers`}function I1($){try{let w=new Date($),T=new Date().getTime()-w.getTime(),J=Math.floor(T/60000);if(J<1)return"just now";if(J<60)return`${J}m ago`;let Z=Math.floor(J/60);if(Z<24)return`${Z}h ago`;return`${Math.floor(Z/24)}d ago`}catch{return""}}function T1($){try{return localStorage.getItem($)}catch{return null}}function F1($,w){try{localStorage.setItem($,w)}catch{}}function Y5($){try{localStorage.removeItem($)}catch{}}var L0={accessToken:"oni-access-token",displayName:"oni-display-name",displayColor:"oni-display-color",userId:"oni-user-id",visitCount:"oni-visit-count",notifyModalShown:"oni-notify-modal-shown"};var q5=new Set,D4=!1;function J0(){if(D4)return;D4=!0,queueMicrotask(()=>{D4=!1;for(let $ of q5)$()})}var{configHydration:G6,statusHydration:Qz}=window,S={loading:!G6,config:G6||null,status:Qz||null,messages:[],currentUser:null,accessToken:T1(L0.accessToken),isMobile:window.innerWidth<=768,chatVisible:!0,error:null},s=null,X2=null,S6=T1(L0.userId),b6=T1(L0.displayName),M6=T1(L0.displayColor);if(S6&&b6)S.currentUser={id:S6,displayName:b6,displayColor:M6?parseInt(M6,10):0};function D6(){let $=S.config?.socketHostOverride;if(s=new M4($||void 0),S.accessToken)s.setAccessToken(S.accessToken);s.on("CHAT",(w)=>{let z=w;S.messages=[...S.messages,z],J0()}),s.on("NAME_CHANGE",(w)=>{let z=w;S.messages=[...S.messages,z],J0()}),s.on("USER_JOINED",(w)=>{let z=w;S.messages=[...S.messages,z],J0()}),s.on("USER_PARTED",(w)=>{let z=w;S.messages=[...S.messages,z],J0()}),s.on("SYSTEM",(w)=>{let z=w;S.messages=[...S.messages,z],J0()}),s.on("FEDIVERSE_ENGAGEMENT_FOLLOW",(w)=>{let z=w;S.messages=[...S.messages,z],J0()}),s.on("FEDIVERSE_ENGAGEMENT_LIKE",(w)=>{let z=w;S.messages=[...S.messages,z],J0()}),s.on("FEDIVERSE_ENGAGEMENT_REPOST",(w)=>{let z=w;S.messages=[...S.messages,z],J0()}),s.on("CONNECTED_USER_INFO",(w)=>{let z=w;if(z.user)S.currentUser={id:z.user.id,displayName:z.user.displayName,displayColor:z.user.displayColor,isModerator:z.user.isModerator},J0()}),s.on("VISIBILITY-UPDATE",(w)=>{let z=w;if(z.ids&&z.ids.length>0){let T=new Set(z.ids);if(z.visible===!1)S.messages=S.messages.filter((J)=>!T.has(J.id));J0()}}),s.on("ERROR_NEEDS_REGISTRATION",()=>{S.currentUser=null,S.accessToken=null,Y5(L0.accessToken),Y5(L0.userId),Y5(L0.displayName),J0()}),s.connect()}function _z(){if(X2)return;X2=setInterval(async()=>{try{let $=await K0.getStatus();S.status=$,J0()}catch($){console.error("[Store] Status poll error:",$)}},5000)}var f={getState(){return S},subscribe($){return q5.add($),()=>q5.delete($)},async init(){try{if(!S.config){let[$,w]=await Promise.all([K0.getConfig(),K0.getStatus()]);S.config=$,S.status=w}if(S.accessToken)try{let $=await K0.getChatHistory(S.accessToken);if(Array.isArray($))S.messages=$}catch{}S.loading=!1,J0(),D6(),_z()}catch($){S.error=$ instanceof Error?$.message:"Failed to load",S.loading=!1,J0()}},async registerUser($){try{let w=await K0.registerChatUser($);if(S.accessToken=w.accessToken,S.currentUser={id:w.id,displayName:w.displayName,displayColor:w.displayColor},F1(L0.accessToken,w.accessToken),F1(L0.userId,w.id),F1(L0.displayName,w.displayName),F1(L0.displayColor,String(w.displayColor)),s)s.disconnect();D6();try{let z=await K0.getChatHistory(w.accessToken);if(Array.isArray(z))S.messages=z}catch{}J0()}catch(w){throw console.error("[Store] Registration error:",w),w}},sendChat($){if(s)s.sendChat($)},toggleChat(){S.chatVisible=!S.chatVisible,J0()},setMobile($){if(S.isMobile!==$)S.isMobile=$,J0()},cleanup(){if(s)s.disconnect(),s=null;if(X2)clearInterval(X2),X2=null;q5.clear()}};function Hz($){return $ instanceof Uint8Array||ArrayBuffer.isView($)&&$.constructor.name==="Uint8Array"}function R5($,...w){if(!Hz($))throw new Error("Uint8Array expected");if(w.length>0&&!w.includes($.length))throw new Error("Uint8Array expected of length "+w+", got length="+$.length)}function f4($,w=!0){if($.destroyed)throw new Error("Hash instance has been destroyed");if(w&&$.finished)throw new Error("Hash#digest() has already been called")}function f6($,w){R5($);let z=w.outputLen;if($.length<z)throw new Error("digestInto() expects output buffer of length at least "+z)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function W5($){return new DataView($.buffer,$.byteOffset,$.byteLength)}function f0($,w){return $<<32-w|$>>>w}var v6=typeof Uint8Array.from([]).toHex==="function"&&typeof Uint8Array.fromHex==="function",Kz=Array.from({length:256},($,w)=>w.toString(16).padStart(2,"0"));function y4($){if(R5($),v6)return $.toHex();let w="";for(let z=0;z<$.length;z++)w+=Kz[$[z]];return w}var d0={_0:48,_9:57,A:65,F:70,a:97,f:102};function y6($){if($>=d0._0&&$<=d0._9)return $-d0._0;if($>=d0.A&&$<=d0.F)return $-(d0.A-10);if($>=d0.a&&$<=d0.f)return $-(d0.a-10);return}function O6($){if(typeof $!=="string")throw new Error("hex string expected, got "+typeof $);if(v6)return Uint8Array.fromHex($);let w=$.length,z=w/2;if(w%2)throw new Error("hex string expected, got unpadded hex of length "+w);let T=new Uint8Array(z);for(let J=0,Z=0;J<z;J++,Z+=2){let B=y6($.charCodeAt(Z)),Y=y6($.charCodeAt(Z+1));if(B===void 0||Y===void 0){let q=$[Z]+$[Z+1];throw new Error('hex string expected, got non-hex character "'+q+'" at index '+Z)}T[J]=B*16+Y}return T}function Az($){if(typeof $!=="string")throw new Error("utf8ToBytes expected string, got "+typeof $);return new Uint8Array(new TextEncoder().encode($))}function v4($){if(typeof $==="string")$=Az($);return R5($),$}class O4{clone(){return this._cloneInto()}}function C6($){let w=(T)=>$().update(v4(T)).digest(),z=$();return w.outputLen=z.outputLen,w.blockLen=z.blockLen,w.create=()=>$(),w}function Uz($,w,z,T){if(typeof $.setBigUint64==="function")return $.setBigUint64(w,z,T);let J=BigInt(32),Z=BigInt(4294967295),B=Number(z>>J&Z),Y=Number(z&Z),q=T?4:0,W=T?0:4;$.setUint32(w+q,B,T),$.setUint32(w+W,Y,T)}function V6($,w,z){return $&w^~$&z}function h6($,w,z){return $&w^$&z^w&z}class C4 extends O4{constructor($,w,z,T){super();this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=$,this.outputLen=w,this.padOffset=z,this.isLE=T,this.buffer=new Uint8Array($),this.view=W5(this.buffer)}update($){f4(this);let{view:w,buffer:z,blockLen:T}=this;$=v4($);let J=$.length;for(let Z=0;Z<J;){let B=Math.min(T-this.pos,J-Z);if(B===T){let Y=W5($);for(;T<=J-Z;Z+=T)this.process(Y,Z);continue}if(z.set($.subarray(Z,Z+B),this.pos),this.pos+=B,Z+=B,this.pos===T)this.process(w,0),this.pos=0}return this.length+=$.length,this.roundClean(),this}digestInto($){f4(this),f6($,this),this.finished=!0;let{buffer:w,view:z,blockLen:T,isLE:J}=this,{pos:Z}=this;if(w[Z++]=128,this.buffer.subarray(Z).fill(0),this.padOffset>T-Z)this.process(z,0),Z=0;for(let R=Z;R<T;R++)w[R]=0;Uz(z,T-8,BigInt(this.length*8),J),this.process(z,0);let B=W5($),Y=this.outputLen;if(Y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let q=Y/4,W=this.get();if(q>W.length)throw new Error("_sha2: outputLen bigger than state");for(let R=0;R<q;R++)B.setUint32(4*R,W[R],J)}digest(){let{buffer:$,outputLen:w}=this;this.digestInto($);let z=$.slice(0,w);return this.destroy(),z}_cloneInto($){$||($=new this.constructor),$.set(...this.get());let{blockLen:w,buffer:z,length:T,finished:J,destroyed:Z,pos:B}=this;if($.length=T,$.pos=B,$.finished=J,$.destroyed=Z,T%w)$.buffer.set(z);return $}}var gz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),J1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Z1=new Uint32Array(64);class x6 extends C4{constructor($=32){super(64,$,8,!1);this.A=J1[0]|0,this.B=J1[1]|0,this.C=J1[2]|0,this.D=J1[3]|0,this.E=J1[4]|0,this.F=J1[5]|0,this.G=J1[6]|0,this.H=J1[7]|0}get(){let{A:$,B:w,C:z,D:T,E:J,F:Z,G:B,H:Y}=this;return[$,w,z,T,J,Z,B,Y]}set($,w,z,T,J,Z,B,Y){this.A=$|0,this.B=w|0,this.C=z|0,this.D=T|0,this.E=J|0,this.F=Z|0,this.G=B|0,this.H=Y|0}process($,w){for(let R=0;R<16;R++,w+=4)Z1[R]=$.getUint32(w,!1);for(let R=16;R<64;R++){let Q=Z1[R-15],_=Z1[R-2],H=f0(Q,7)^f0(Q,18)^Q>>>3,g=f0(_,17)^f0(_,19)^_>>>10;Z1[R]=g+Z1[R-7]+H+Z1[R-16]|0}let{A:z,B:T,C:J,D:Z,E:B,F:Y,G:q,H:W}=this;for(let R=0;R<64;R++){let Q=f0(B,6)^f0(B,11)^f0(B,25),_=W+Q+V6(B,Y,q)+gz[R]+Z1[R]|0,g=(f0(z,2)^f0(z,13)^f0(z,22))+h6(z,T,J)|0;W=q,q=Y,Y=B,B=Z+_|0,Z=J,J=T,T=z,z=_+g|0}z=z+this.A|0,T=T+this.B|0,J=J+this.C|0,Z=Z+this.D|0,B=B+this.E|0,Y=Y+this.F|0,q=q+this.G|0,W=W+this.H|0,this.set(z,T,J,Z,B,Y,q,W)}roundClean(){Z1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}var E6=C6(()=>new x6);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function x4($){return $ instanceof Uint8Array||ArrayBuffer.isView($)&&$.constructor.name==="Uint8Array"}function s6($,w){if(!Array.isArray(w))return!1;if(w.length===0)return!0;if($)return w.every((z)=>typeof z==="string");else return w.every((z)=>Number.isSafeInteger(z))}function i6($){if(typeof $!=="function")throw new Error("function expected");return!0}function S1($,w){if(typeof w!=="string")throw new Error(`${$}: string expected`);return!0}function Y2($){if(!Number.isSafeInteger($))throw new Error(`invalid integer: ${$}`)}function _5($){if(!Array.isArray($))throw new Error("array expected")}function H5($,w){if(!s6(!0,w))throw new Error(`${$}: array of strings expected`)}function E4($,w){if(!s6(!1,w))throw new Error(`${$}: array of numbers expected`)}function A0(...$){let w=(Z)=>Z,z=(Z,B)=>(Y)=>Z(B(Y)),T=$.map((Z)=>Z.encode).reduceRight(z,w),J=$.map((Z)=>Z.decode).reduce(z,w);return{encode:T,decode:J}}function U0($){let w=typeof $==="string"?$.split(""):$,z=w.length;H5("alphabet",w);let T=new Map(w.map((J,Z)=>[J,Z]));return{encode:(J)=>{return _5(J),J.map((Z)=>{if(!Number.isSafeInteger(Z)||Z<0||Z>=z)throw new Error(`alphabet.encode: digit index outside alphabet "${Z}". Allowed: ${$}`);return w[Z]})},decode:(J)=>{return _5(J),J.map((Z)=>{S1("alphabet.decode",Z);let B=T.get(Z);if(B===void 0)throw new Error(`Unknown letter: "${Z}". Allowed: ${$}`);return B})}}}function g0($=""){return S1("join",$),{encode:(w)=>{return H5("join.decode",w),w.join($)},decode:(w)=>{return S1("join.decode",w),w.split($)}}}function A5($,w="="){return Y2($),S1("padding",w),{encode(z){H5("padding.encode",z);while(z.length*$%8)z.push(w);return z},decode(z){H5("padding.decode",z);let T=z.length;if(T*$%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;T>0&&z[T-1]===w;T--)if((T-1)*$%8===0)throw new Error("padding: invalid, string has too much padding");return z.slice(0,T)}}}function d6($){return i6($),{encode:(w)=>w,decode:(w)=>$(w)}}function N6($,w,z){if(w<2)throw new Error(`convertRadix: invalid from=${w}, base cannot be less than 2`);if(z<2)throw new Error(`convertRadix: invalid to=${z}, base cannot be less than 2`);if(_5($),!$.length)return[];let T=0,J=[],Z=Array.from($,(Y)=>{if(Y2(Y),Y<0||Y>=w)throw new Error(`invalid integer: ${Y}`);return Y}),B=Z.length;while(!0){let Y=0,q=!0;for(let W=T;W<B;W++){let R=Z[W],Q=w*Y,_=Q+R;if(!Number.isSafeInteger(_)||Q/w!==Y||_-R!==Q)throw new Error("convertRadix: carry overflow");let H=_/z;Y=_%z;let g=Math.floor(H);if(Z[W]=g,!Number.isSafeInteger(g)||g*z+Y!==_)throw new Error("convertRadix: carry overflow");if(!q)continue;else if(!g)T=W;else q=!1}if(J.push(Y),q)break}for(let Y=0;Y<$.length-1&&$[Y]===0;Y++)J.push(0);return J.reverse()}var o6=($,w)=>w===0?$:o6(w,$%w),K5=($,w)=>$+(w-o6($,w)),Q5=(()=>{let $=[];for(let w=0;w<40;w++)$.push(2**w);return $})();function V4($,w,z,T){if(_5($),w<=0||w>32)throw new Error(`convertRadix2: wrong from=${w}`);if(z<=0||z>32)throw new Error(`convertRadix2: wrong to=${z}`);if(K5(w,z)>32)throw new Error(`convertRadix2: carry overflow from=${w} to=${z} carryBits=${K5(w,z)}`);let J=0,Z=0,B=Q5[w],Y=Q5[z]-1,q=[];for(let W of $){if(Y2(W),W>=B)throw new Error(`convertRadix2: invalid data word=${W} from=${w}`);if(J=J<<w|W,Z+w>32)throw new Error(`convertRadix2: carry overflow pos=${Z} from=${w}`);Z+=w;for(;Z>=z;Z-=z)q.push((J>>Z-z&Y)>>>0);let R=Q5[Z];if(R===void 0)throw new Error("invalid carry");J&=R-1}if(J=J<<z-Z&Y,!T&&Z>=w)throw new Error("Excess padding");if(!T&&J>0)throw new Error(`Non-zero padding: ${J}`);if(T&&Z>0)q.push(J>>>0);return q}function Iz($){Y2($);let w=256;return{encode:(z)=>{if(!x4(z))throw new Error("radix.encode input should be Uint8Array");return N6(Array.from(z),w,$)},decode:(z)=>{return E4("radix.decode",z),Uint8Array.from(N6(z,$,w))}}}function G0($,w=!1){if(Y2($),$<=0||$>32)throw new Error("radix2: bits should be in (0..32]");if(K5(8,$)>32||K5($,8)>32)throw new Error("radix2: carry overflow");return{encode:(z)=>{if(!x4(z))throw new Error("radix2.encode input should be Uint8Array");return V4(Array.from(z),8,$,!w)},decode:(z)=>{return E4("radix2.decode",z),Uint8Array.from(V4(z,$,8,w))}}}function p6($){return i6($),function(...w){try{return $.apply(null,w)}catch(z){}}}var CR=A0(G0(4),U0("0123456789ABCDEF"),g0("")),VR=A0(G0(5),U0("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),A5(5),g0("")),hR=A0(G0(5),U0("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g0("")),xR=A0(G0(5),U0("0123456789ABCDEFGHIJKLMNOPQRSTUV"),A5(5),g0("")),ER=A0(G0(5),U0("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g0("")),NR=A0(G0(5),U0("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),g0(""),d6(($)=>$.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),pR=A0(G0(6),U0("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),A5(6),g0("")),rR=A0(G0(6),U0("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g0("")),mR=A0(G0(6),U0("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),A5(6),g0("")),sR=A0(G0(6),U0("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g0("")),N4=($)=>A0(Iz(58),U0($),g0("")),iR=N4("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),dR=N4("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),oR=N4("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");var h4=A0(U0("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),g0("")),r6=[996825010,642813549,513874426,1027748829,705979059];function B2($){let w=$>>25,z=($&33554431)<<5;for(let T=0;T<r6.length;T++)if((w>>T&1)===1)z^=r6[T];return z}function m6($,w,z=1){let T=$.length,J=1;for(let Z=0;Z<T;Z++){let B=$.charCodeAt(Z);if(B<33||B>126)throw new Error(`Invalid prefix (${$})`);J=B2(J)^B>>5}J=B2(J);for(let Z=0;Z<T;Z++)J=B2(J)^$.charCodeAt(Z)&31;for(let Z of w)J=B2(J)^Z;for(let Z=0;Z<6;Z++)J=B2(J);return J^=z,h4.encode(V4([J%Q5[30]],30,5,!1))}function c6($){let w=$==="bech32"?1:734539939,z=G0(5),T=z.decode,J=z.encode,Z=p6(T);function B(Q,_,H=90){if(S1("bech32.encode prefix",Q),x4(_))_=Array.from(_);E4("bech32.encode",_);let g=Q.length;if(g===0)throw new TypeError(`Invalid prefix length ${g}`);let K=g+7+_.length;if(H!==!1&&K>H)throw new TypeError(`Length ${K} exceeds limit ${H}`);let P=Q.toLowerCase(),I=m6(P,_,w);return`${P}1${h4.encode(_)}${I}`}function Y(Q,_=90){S1("bech32.decode input",Q);let H=Q.length;if(H<8||_!==!1&&H>_)throw new TypeError(`invalid string length: ${H} (${Q}). Expected (8..${_})`);let g=Q.toLowerCase();if(Q!==g&&Q!==Q.toUpperCase())throw new Error("String must be lowercase or uppercase");let K=g.lastIndexOf("1");if(K===0||K===-1)throw new Error('Letter "1" must be present between prefix and data only');let P=g.slice(0,K),I=g.slice(K+1);if(I.length<6)throw new Error("Data must be at least 6 characters long");let v=h4.decode(I).slice(0,-6),V=m6(P,v,w);if(!I.endsWith(V))throw new Error(`Invalid checksum in ${Q}: expected "${V}"`);return{prefix:P,words:v}}let q=p6(Y);function W(Q){let{prefix:_,words:H}=Y(Q,!1);return{prefix:_,words:H,bytes:T(H)}}function R(Q,_){return B(Q,J(_))}return{encode:B,decode:Y,encodeFromBytes:R,decodeToBytes:W,decodeUnsafe:q,fromWords:T,fromWordsUnsafe:Z,toWords:J}}var p4=c6("bech32"),cR=c6("bech32m");var lR=A0(G0(4),U0("0123456789abcdef"),g0(""),d6(($)=>{if(typeof $!=="string"||$.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof $} with length ${$.length}`);return $.toLowerCase()}));var Fz=5000;function l6($){return new TextEncoder().encode($)}function q2(){return Math.floor(Date.now()/1000)}function jz($,w){let z=O6(w),T=p4.toWords(z);return p4.encode($,T,Fz)}function b1($){return jz("npub",$)}function U5($,w=8){if($.length<=w*2)return $;return`${$.slice(0,w)}...${$.slice(-w)}`}function kz($){return JSON.stringify([0,$.pubkey,$.created_at,$.kind,$.tags,$.content])}function r4($){let w=kz($),z=E6(l6(w));return y4(z)}function g5($,w,z=[],T=""){return{pubkey:T,created_at:q2(),kind:$,tags:z,content:w}}var H0={Metadata:0,Text:1,RecommendRelay:2,Contacts:3,EncryptedDM:4,EventDeletion:5,Repost:6,Reaction:7,ChannelCreation:40,ChannelMetadata:41,ChannelMessage:42,ChannelHideMessage:43,ChannelMuteUser:44,Comment:1111,ClientAuth:22242,RelayList:10002,LiveEvent:30311};function I5(){return typeof window!=="undefined"&&!!window.nostr}async function a6(){if(!I5())throw new Error("No NIP-07 extension found. Install Alby or nos2x.");return window.nostr.getPublicKey()}async function F5($){if(!I5())throw new Error("No NIP-07 extension found.");let w=r4($),z={...$,id:w};return window.nostr.signEvent(z)}function t6(){if(typeof navigator==="undefined")return!1;return/android/i.test(navigator.userAgent)}function Pz($){return`${window.location.origin+window.location.pathname}?nip55_action=${$}&event=`}function n6(){let $=Pz("get_public_key");window.location.href=`nostrsigner:?compressionType=none&returnType=signature&type=get_public_key&callbackUrl=${$}`}function e6(){if(typeof window==="undefined")return null;let $=new URLSearchParams(window.location.search),w=$.get("nip55_action"),z=$.get("event");if(!w||!z)return null;return{action:w,result:z}}function $9(){if(typeof window==="undefined")return;let $=new URL(window.location.href);$.searchParams.delete("nip55_action"),$.searchParams.delete("event");let w=$.pathname+($.search||"");window.history.replaceState({},"",w)}var uz=0;function Lz(){return`sub_${++uz}_${Date.now().toString(36)}`}class y0{url;ws=null;subscriptions=new Map;pendingPublish=new Map;pendingMessages=[];reconnectTimer=null;reconnectDelay=1000;maxReconnectDelay=60000;reconnectAttempts=0;maxReconnectAttempts=5;_status="disconnected";statusListeners=new Set;_authSigner=null;_authenticated=!1;_authInProgress=!1;constructor($){this.url=$.replace(/\/$/,"")}setAuthSigner($){this._authSigner=$}get hasAuthSigner(){return this._authSigner!==null}get authenticated(){return this._authenticated}get status(){return this._status}setStatus($){this._status=$;for(let w of this.statusListeners)w($)}onStatusChange($){return this.statusListeners.add($),()=>this.statusListeners.delete($)}connect(){if(this.ws&&(this.ws.readyState===WebSocket.OPEN||this.ws.readyState===WebSocket.CONNECTING))return Promise.resolve();return new Promise(($)=>{this.setStatus("connecting");try{this.ws=new WebSocket(this.url)}catch(z){this.setStatus("error"),$();return}let w=!1;this.ws.onopen=()=>{this.setStatus("connected"),this.reconnectDelay=1000,this.reconnectAttempts=0;for(let z of this.pendingMessages)this.ws.send(z);this.pendingMessages=[];for(let[z,T]of this.subscriptions){let J=JSON.stringify(["REQ",z,...T.filters]);this.ws.send(J)}if(!w)w=!0,$()},this.ws.onmessage=(z)=>{this.handleMessage(z.data)},this.ws.onerror=()=>{this.setStatus("error")},this.ws.onclose=()=>{if(this.setStatus("disconnected"),this.ws=null,!w)w=!0,$();this.scheduleReconnect()}})}disconnect(){if(this.reconnectTimer)clearTimeout(this.reconnectTimer),this.reconnectTimer=null;for(let[$,w]of this.pendingPublish)clearTimeout(w.timer),w.resolve({accepted:!1,message:"disconnected"});if(this.pendingPublish.clear(),this.subscriptions.clear(),this.pendingMessages=[],this.ws)this.ws.onclose=null,this.ws.close(),this.ws=null;this.setStatus("disconnected")}scheduleReconnect(){if(this.reconnectTimer)return;if(this.reconnectAttempts++,this.reconnectAttempts>this.maxReconnectAttempts){console.warn(`[Relay ${this.url}] Max reconnect attempts (${this.maxReconnectAttempts}) reached, giving up`),this.setStatus("error");return}this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.connect().catch(()=>{})},this.reconnectDelay),this.reconnectDelay=Math.min(this.reconnectDelay*2,this.maxReconnectDelay)}handleMessage($){let w;try{w=JSON.parse($)}catch{return}if(!Array.isArray(w)||w.length<2)return;switch(w[0]){case"EVENT":{let T=w[1],J=w[2],Z=this.subscriptions.get(T);if(Z)Z.onEvent(J);break}case"EOSE":{let T=w[1],J=this.subscriptions.get(T);if(J?.onEose)J.onEose();break}case"OK":{let T=w[1],J=this.pendingPublish.get(T);if(J)clearTimeout(J.timer),this.pendingPublish.delete(T),J.resolve({accepted:!!w[2],message:w[3]||""});break}case"NOTICE":{console.warn(`[Relay ${this.url}] NOTICE:`,w[1]);break}case"CLOSED":{let T=w[1],J=w[2]||"",Z=this.subscriptions.get(T);if(Z?.onClosed)Z.onClosed(J);this.subscriptions.delete(T);break}case"AUTH":{let T=w[1];this.handleAuthChallenge(T);break}}}_authFailed=!1;async handleAuthChallenge($){if(!this._authSigner)return;if(this._authInProgress)return;if(this._authFailed)return;this._authInProgress=!0;try{let w=g5(H0.ClientAuth,"",[["relay",this.url],["challenge",$]]),z=await this._authSigner(w);this.send(JSON.stringify(["AUTH",z])),this._authenticated=!0}catch(w){this._authFailed=!0,console.warn(`[Relay ${this.url}] AUTH declined by signer`)}finally{this._authInProgress=!1}}send($){if(this.ws&&this.ws.readyState===WebSocket.OPEN)this.ws.send($);else this.pendingMessages.push($)}subscribe($,w,z,T){let J=Lz();return this.subscriptions.set(J,{id:J,filters:$,onEvent:w,onEose:z,onClosed:T}),this.send(JSON.stringify(["REQ",J,...$])),J}unsubscribe($){if(this.subscriptions.has($))this.send(JSON.stringify(["CLOSE",$])),this.subscriptions.delete($)}publish($){return new Promise((w)=>{let z=setTimeout(()=>{this.pendingPublish.delete($.id),w({accepted:!1,message:"timeout"})},1e4);this.pendingPublish.set($.id,{resolve:w,timer:z}),this.send(JSON.stringify(["EVENT",$]))})}get activeSubscriptions(){return this.subscriptions.size}}class m4{relays=new Map;seenEvents=new Set;maxSeen=50000;_authSigner=null;setAuthSigner($){this._authSigner=$;for(let w of this.relays.values())if(w.hasAuthSigner)w.setAuthSigner($)}clearSeenEvents(){this.seenEvents.clear()}addRelay($){let w=$.replace(/\/$/,"");if(this.relays.has(w))return this.relays.get(w);let z=new y0(w);return this.relays.set(w,z),z}addRelayWithAuth($){let w=this.addRelay($);if(this._authSigner)w.setAuthSigner(this._authSigner);return w}removeRelay($){let w=$.replace(/\/$/,""),z=this.relays.get(w);if(z)z.disconnect(),this.relays.delete(w)}getRelay($){return this.relays.get($.replace(/\/$/,""))}get allRelays(){return Array.from(this.relays.values())}async connectAll(){let $=this.allRelays.map((w)=>w.connect().catch((z)=>{console.warn(`Failed to connect to ${w.url}:`,z)}));await Promise.allSettled($)}disconnectAll(){for(let $ of this.relays.values())$.disconnect()}subscribe($,w,z){let T=new Map,J=`pool_${Date.now().toString(36)}`;for(let Z of this.relays.values()){let B=Z.subscribe($,(Y)=>{if(this.seenEvents.has(Y.id))return;this.trackSeen(Y.id),w(Y,Z)},()=>{if(z)z(Z)});T.set(Z,B)}return{id:J,unsubscribe:()=>{for(let[Z,B]of T)Z.unsubscribe(B);T.clear()}}}subscribeToUrls($,w,z,T){let J=new Map,Z=`pool_targeted_${Date.now().toString(36)}`;for(let B of $){let Y=B.replace(/\/$/,""),q=this.relays.get(Y);if(!q)continue;let W=q.subscribe(w,(R)=>{if(this.seenEvents.has(R.id))return;this.trackSeen(R.id),z(R,q)},()=>{if(T)T(q)});J.set(q,W)}return{id:Z,unsubscribe:()=>{for(let[B,Y]of J)B.unsubscribe(Y);J.clear()}}}async publish($){let w=new Map,z=this.allRelays.map(async(T)=>{try{let J=await T.publish($);w.set(T.url,J)}catch(J){w.set(T.url,{accepted:!1,message:String(J)})}});return await Promise.allSettled(z),w}trackSeen($){if(this.seenEvents.add($),this.seenEvents.size>this.maxSeen){let w=Math.floor(this.maxSeen*0.4),z=this.seenEvents.values();for(let T=0;T<w;T++){let J=z.next().value;if(J)this.seenEvents.delete(J)}}}getStatus(){let $=new Map;for(let[w,z]of this.relays)$.set(w,z.status);return $}}var s4=null,v0={statuses:new Map,isConnecting:!1},i4=new Set;function R2(){for(let $ of i4)$()}function d4(){return v0}function w9($){return i4.add($),()=>i4.delete($)}function S0(){if(!s4)s4=new m4;return s4}async function z9(){let $=S0();v0={...v0,isConnecting:!0},R2(),await $.connectAll(),v0={...v0,isConnecting:!1,statuses:$.getStatus()},R2()}function o4($){let w=S0(),z=w.addRelay($);z.onStatusChange(()=>{v0={...v0,statuses:w.getStatus()},R2()}),z.connect().catch(()=>{}),v0={...v0,statuses:w.getStatus()},R2()}function T9($){let w=S0();w.removeRelay($),v0={...v0,statuses:w.getStatus()},R2()}var J9="oni_relay_profiles",j5=[{id:"outbox",name:"Outbox",relays:[],builtin:!0},{id:"inbox",name:"Inbox",relays:[],builtin:!0},{id:"indexers",name:"Indexers",relays:[],builtin:!0}],N={profiles:[...j5],activeProfileId:"outbox"},c4=new Set;function j1(){for(let $ of c4)$()}function M1(){if(typeof localStorage!=="undefined")localStorage.setItem(J9,JSON.stringify(N))}function Z9(){if(typeof localStorage==="undefined")return;try{let $=localStorage.getItem(J9);if($){let w=JSON.parse($),z=new Set(j5.map((J)=>J.id)),T=[];for(let J of j5){let Z=w.profiles.find((B)=>B.id===J.id);T.push(Z?{...Z,builtin:!0}:{...J})}for(let J of w.profiles)if(!z.has(J.id))T.push({...J,builtin:!1});N={profiles:T,activeProfileId:w.activeProfileId||"outbox"}}}catch{}j1()}function D1(){return N}function X9($){return c4.add($),()=>c4.delete($)}function Gz(){return N.profiles.find(($)=>$.id===N.activeProfileId)||N.profiles[0]}function B9($){N={...N,activeProfileId:$},M1(),j1(),l4()}function f1($,w){let z=w.trim();if(!z.startsWith("wss://")&&!z.startsWith("ws://"))z="wss://"+z;if(z=z.replace(/\/+$/,""),N={...N,profiles:N.profiles.map((T)=>T.id===$&&!T.relays.includes(z)?{...T,relays:[...T.relays,z]}:T)},M1(),j1(),$===N.activeProfileId)o4(z)}function k5($,w){if(N={...N,profiles:N.profiles.map((z)=>z.id===$?{...z,relays:z.relays.filter((T)=>T!==w)}:z)},M1(),j1(),$===N.activeProfileId)T9(w)}function Y9($){let w="custom_"+Date.now()+"_"+Math.random().toString(36).slice(2,8);return N={...N,profiles:[...N.profiles,{id:w,name:$,relays:[],builtin:!1}]},M1(),j1(),w}function q9($){let w=N.profiles.find((z)=>z.id===$);if(!w||w.builtin)return;N={...N,profiles:N.profiles.filter((z)=>z.id!==$),activeProfileId:N.activeProfileId===$?"outbox":N.activeProfileId},M1(),j1()}function l4(){let $=S0(),w=Gz(),z=new Set($.allRelays.map((J)=>J.url)),T=new Set(w.relays);for(let J of z)if(!T.has(J))$.removeRelay(J);for(let J of T)if(!z.has(J))o4(J)}function R9(){N={profiles:[...j5],activeProfileId:"outbox"},M1(),j1()}var I0={pubkey:null,isLoading:!1,error:null},a4=new Set;function k1(){for(let $ of a4)$()}function $0(){return I0}function y1($){return a4.add($),()=>a4.delete($)}async function P5(){if(I5()){I0={...I0,isLoading:!0,error:null},k1();try{let $=await a6();if(I0={pubkey:$,isLoading:!1,error:null},typeof localStorage!=="undefined")localStorage.setItem("oni_pubkey",$)}catch($){I0={...I0,isLoading:!1,error:String($)}}k1();return}if(t6()){I0={...I0,isLoading:!0,error:null},k1(),n6();return}I0={...I0,error:"No Nostr signer found. Install a NIP-07 extension (desktop) or Amber (Android)."},k1()}function t4(){S0().clearSeenEvents(),R9()}function u5(){if(t4(),I0={pubkey:null,isLoading:!1,error:null},typeof localStorage!=="undefined")localStorage.removeItem("oni_pubkey");k1()}function W9(){if(typeof localStorage==="undefined")return;let $=e6();if($&&$.action==="get_public_key"&&$.result){let z=$.result;localStorage.setItem("oni_pubkey",z),I0={pubkey:z,isLoading:!1,error:null},$9(),k1();return}let w=localStorage.getItem("oni_pubkey");if(w)I0={pubkey:w,isLoading:!1,error:null},k1()}var o0={urls:[],source:"none",isLoading:!1,error:null},$8=new Set,W2=null,n4=!1;function L5(){if(n4)return;n4=!0,queueMicrotask(()=>{n4=!1;for(let $ of $8)$()})}function Q9(){return o0}function Q2(){return o0.urls}function _9($){return $8.add($),()=>$8.delete($)}var Sz=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.snort.social","wss://purplepag.es","wss://relay.primal.net"],e4=["wss://relay.nostr.watch","wss://history.nostr.watch"];function G5($=10){if(o0.urls.length>0&&!o0.isLoading)return Promise.resolve();if(W2)return W2;return W2=bz($).finally(()=>{W2=null}),W2}async function bz($){o0={...o0,isLoading:!0,error:null},L5();try{let w=await Mz($);if(w.length>0){console.log("[indexers] Discovered",w.length,"relays via rstate"),o0={urls:w,source:"rstate",isLoading:!1,error:null},L5();return}}catch(w){console.warn("[indexers] rstate unavailable:",w)}console.log("[indexers] Using fallback indexers"),o0={urls:Sz.slice(0,$),source:"fallback",isLoading:!1,error:null},L5(),Dz($)}async function Mz($){let w=new AbortController,z=setTimeout(()=>w.abort(),5000);try{let T=new URLSearchParams({limit:String($*3),offset:"0",sortBy:"lastSeen",sortOrder:"desc",format:"detailed"}),J=await fetch(`/relays?${T}`,{signal:w.signal});if(!J.ok)throw new Error(`rstate ${J.status}`);let Y=((await J.json()).relays||[]).filter((R)=>{if(!R.relayUrl||!R.relayUrl.startsWith("wss://"))return!1;if(R.network?.value&&R.network.value!=="clearnet")return!1;return!0}).map((R)=>({url:R.relayUrl.replace(/\/+$/,""),rtt:R.rtt?.open?.value??9999,lastSeen:R.lastSeenAt??0})).sort((R,Q)=>{if(R.rtt!==Q.rtt)return R.rtt-Q.rtt;return Q.lastSeen-R.lastSeen}),q=new Set,W=[];for(let R of Y){if(q.has(R.url))continue;if(q.add(R.url),W.push(R.url),W.length>=$)break}return W}finally{clearTimeout(z)}}function Dz($){let w=new Map,z=0,T=setTimeout(()=>J(),8000);function J(){if(clearTimeout(T),w.size===0)return;let Z=Array.from(w.entries()).sort((B,Y)=>B[1].rtt-Y[1].rtt).map(([B])=>B).slice(0,$);if(Z.length>0)console.log("[indexers] Upgraded to",Z.length,"relays via NIP-66"),o0={urls:Z,source:"nip66",isLoading:!1,error:null},L5()}for(let Z of e4){let B=new y0(Z);B.connect().then(()=>{let Y=B.subscribe([{kinds:[30166],limit:$*3}],(q)=>{let W=q.tags.find((g)=>g[0]==="d");if(!W||!W[1])return;let R=W[1].replace(/\/+$/,"");if(!R.startsWith("wss://"))return;let Q=9999,_=q.tags.find((g)=>g[0]==="rtt"&&g[1]==="open");if(_&&_[2])Q=parseInt(_[2],10)||9999;let H=w.get(R);if(!H||Q<H.rtt)w.set(R,{rtt:Q})},()=>{if(B.unsubscribe(Y),B.disconnect(),z++,z>=e4.length)J()})}).catch(()=>{if(z++,z>=e4.length)J()})}}var C={phase:"idle",profile:null,profileEvent:null,relayList:[],relayListEvent:null,contactsEvent:null,followingCount:0,indexersQueried:0,indexersResponded:0,outboxConnected:0,inboxConnected:0,error:null},T8=new Set,w8=!1;function C0(){if(w8)return;w8=!0,queueMicrotask(()=>{w8=!1;for(let $ of T8)$()})}function X1(){return C}function S5($){return T8.add($),()=>T8.delete($)}var J8=[],z8=null,_2=null;async function K9($){if(z8===$&&C.phase==="ready")return;if(z8===$&&_2)return _2;return z8=$,_2=fz($).finally(()=>{_2=null}),_2}async function fz($){if(C={phase:"discovering_indexers",profile:null,profileEvent:null,relayList:[],relayListEvent:null,contactsEvent:null,followingCount:0,indexersQueried:0,indexersResponded:0,outboxConnected:0,inboxConnected:0,error:null},C0(),Q9().urls.length===0)await G5(10);let z=Q2();if(z.length===0){C={...C,phase:"error",error:"No indexer relays found"},C0();return}if(H9(z),_9(()=>{let T=Q2();if(T.length>0)H9(T)}),C={...C,phase:"querying_indexers",indexersQueried:z.length},C0(),await yz($,z),C.relayList.length>0)C={...C,phase:"connecting_relays"},C0(),await vz(C.relayList);C={...C,phase:"ready"},C0(),Oz()}function yz($,w){return new Promise((z)=>{let T=0,J=w.length,Z=setTimeout(()=>B(),8000);function B(){clearTimeout(Z),z()}function Y(){if(T++,C={...C,indexersResponded:T},C0(),T>=J)B()}for(let q of w){let W=new y0(q);J8.push(W),W.connect().then(()=>{if(W.status!=="connected"){Y();return}let R=W.subscribe([{kinds:[H0.Metadata],authors:[$],limit:1},{kinds:[H0.RelayList],authors:[$],limit:1},{kinds:[H0.Contacts],authors:[$],limit:1}],(Q)=>{if(Q.kind===H0.Metadata){if(!C.profileEvent||Q.created_at>C.profileEvent.created_at)C={...C,profileEvent:Q,profile:Cz(Q)},C0()}else if(Q.kind===H0.RelayList){if(!C.relayListEvent||Q.created_at>C.relayListEvent.created_at)C={...C,relayListEvent:Q,relayList:Vz(Q)},C0()}else if(Q.kind===H0.Contacts){if(!C.contactsEvent||Q.created_at>C.contactsEvent.created_at){let _=Q.tags.filter((H)=>H[0]==="p"&&H[1]).length;C={...C,contactsEvent:Q,followingCount:_},C0()}}},()=>{W.unsubscribe(R),Y()})}).catch(()=>{Y()})}})}async function vz($){let w=S0(),z=D1(),T=$.filter((W)=>W.write).map((W)=>W.url),J=$.filter((W)=>W.read).map((W)=>W.url),Z=z.profiles.find((W)=>W.id==="outbox"),B=z.profiles.find((W)=>W.id==="inbox");for(let W of T)if(Z&&!Z.relays.includes(W))f1("outbox",W);for(let W of J)if(B&&!B.relays.includes(W))f1("inbox",W);let Y=new Set([...T,...J]),q=[];for(let W of Y)if(!w.getRelay(W)){let Q=w.addRelayWithAuth(W);q.push(Q.connect().then(()=>{if(T.includes(W))C={...C,outboxConnected:C.outboxConnected+1};if(J.includes(W))C={...C,inboxConnected:C.inboxConnected+1};C0()}).catch((_)=>{console.warn(`[bootstrap] Failed to connect to ${W}:`,_)}))}await Promise.allSettled(q)}function H9($){let z=D1().profiles.find((T)=>T.id==="indexers");if(!z)return;for(let T of z.relays)if(!$.includes(T))k5("indexers",T);for(let T of $)if(!z.relays.includes(T))f1("indexers",T)}function Oz(){for(let $ of J8)if(!S0().getRelay($.url))$.disconnect();J8=[]}function Cz($){let w={};try{w=JSON.parse($.content)}catch{}return{name:w.name||"",displayName:w.display_name||w.displayName||"",picture:w.picture||"",banner:w.banner||"",about:w.about||"",nip05:w.nip05||"",lud16:w.lud16||""}}function Vz($){let w=[];for(let z of $.tags){if(z[0]!=="r"||!z[1])continue;let T=z[1].replace(/\/+$/,""),J=z[2];w.push({url:T,read:!J||J==="read",write:!J||J==="write"})}return w}var H2=new Map,b5=new Set,Z8=new Set;function A9(){for(let $ of Z8)$()}function U9($){return Z8.add($),()=>Z8.delete($)}function g9($){let w=H2.get($);if(w)return w;return{pubkey:$,name:"",displayName:"",picture:"",banner:"",about:"",nip05:"",lud16:"",fetched:!1}}function I9($){let w=g9($);if(w.displayName)return w.displayName;if(w.name)return w.name;try{let z=b1($);return z.slice(0,12)+"..."+z.slice(-4)}catch{return U5($,8)}}function F9($){return g9($).picture}function X8($){if(H2.has($)&&H2.get($).fetched)return;if(b5.has($))return;b5.add($);let w=Q2();if(w.length===0){b5.delete($);return}let z=w.slice(0,3),T=null,J=0;function Z(){if(b5.delete($),T){let Y=hz($,T);H2.set($,Y),A9()}else H2.set($,{pubkey:$,name:"",displayName:"",picture:"",banner:"",about:"",nip05:"",lud16:"",fetched:!0}),A9()}let B=setTimeout(()=>Z(),6000);for(let Y of z){let q=new y0(Y);q.connect().then(()=>{if(q.status!=="connected"){if(J++,J>=z.length)clearTimeout(B),Z();return}let W=q.subscribe([{kinds:[H0.Metadata],authors:[$],limit:1}],(R)=>{if(!T||R.created_at>T.created_at)T=R},()=>{if(q.unsubscribe(W),q.disconnect(),J++,J>=z.length)clearTimeout(B),Z()})}).catch(()=>{if(J++,J>=z.length)clearTimeout(B),Z()})}}function hz($,w){let z={};try{z=JSON.parse(w.content)}catch{}return{pubkey:$,name:z.name||"",displayName:z.display_name||z.displayName||"",picture:z.picture||"",banner:z.banner||"",about:z.about||"",nip05:z.nip05||"",lud16:z.lud16||"",fetched:!0}}class B8 extends D{unsub=null;unsubAuth=null;unsubBootstrap=null;unsubProfiles=null;state={config:f.getState().config,status:f.getState().status,currentUser:f.getState().currentUser,chatVisible:f.getState().chatVisible,nostrPubkey:$0().pubkey,nostrLoading:$0().isLoading,nostrError:$0().error,showDropdown:!1,profileVersion:0};componentDidMount(){this.unsub=f.subscribe(()=>{let w=f.getState();this.setState({config:w.config,status:w.status,currentUser:w.currentUser,chatVisible:w.chatVisible})}),this.unsubAuth=y1(()=>{let w=$0();if(this.setState({nostrPubkey:w.pubkey,nostrLoading:w.isLoading,nostrError:w.error}),w.pubkey)X8(w.pubkey)}),this.unsubBootstrap=S5(()=>{this.setState({profileVersion:this.state.profileVersion+1})}),this.unsubProfiles=U9(()=>{this.setState({profileVersion:this.state.profileVersion+1})});let $=$0();if($.pubkey)X8($.pubkey)}componentWillUnmount(){this.unsub?.(),this.unsubAuth?.(),this.unsubBootstrap?.(),this.unsubProfiles?.()}handleLogin=()=>{P5()};handleLogout=()=>{u5(),this.setState({showDropdown:!1})};handleCloseDropdown=()=>{this.setState({showDropdown:!1})};render(){let{config:$,status:w,chatVisible:z,nostrPubkey:T,nostrLoading:J,showDropdown:Z}=this.state,B=$?.name||"",Y=w?.online||!1,q=w?.viewerCount||0,W=T?I9(T):"",R=T?F9(T):"";return X("header",{class:"flex items-center justify-between px-4 py-2.5 bg-card/80 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40"},X("div",{class:"flex items-center gap-3 min-w-0"},X("div",{class:"relative shrink-0"},X(e0,{className:"size-9 rounded-lg"},X(m0,{src:"/logo",alt:B}),X($1,{className:"rounded-lg text-sm"},B.charAt(0))),Y&&X("span",{class:"absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full bg-success border-2 border-card"})),X("div",{class:"min-w-0"},X("div",{class:"flex items-center gap-2"},X("h1",{class:"text-sm font-semibold text-foreground truncate"},B),Y&&X(E,{variant:"outline",className:"border-success/30 text-success bg-success/10 text-[10px] gap-1 px-1.5 py-0"},X("span",{class:"w-1.5 h-1.5 rounded-full bg-success animate-pulse"}),"Live")),Y&&q>0&&X("p",{class:"text-[11px] text-muted-foreground leading-tight"},q," watching"))),X("div",{class:"flex items-center gap-1.5"},!$?.chatDisabled&&X(z1,{content:z?"Hide chat":"Show chat",side:"bottom"},X(x,{variant:z?"secondary":"ghost",size:"sm",onClick:()=>f.toggleChat(),className:z?"bg-primary/15 text-primary hover:bg-primary/20":""},X("svg",{class:"size-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})),"Chat")),T?X(u4,null,X(L4,{onClick:(Q)=>{Q.stopPropagation(),this.setState({showDropdown:!Z})},className:"flex items-center gap-2 pl-1 pr-2.5 py-1 rounded-md hover:bg-accent transition-colors"},X(e0,{className:"size-6"},X(m0,{src:R,alt:W}),X($1,{className:"bg-primary/20 text-primary text-[10px]"},W.charAt(0).toUpperCase())),X("span",{class:"text-xs font-medium text-foreground max-w-[80px] truncate hidden sm:block"},W),X("svg",{class:U("size-3 text-muted-foreground transition-transform",Z&&"rotate-180"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"}))),X(z5,{open:Z,onClose:this.handleCloseDropdown,align:"end",className:"w-52"},X(G4,{className:"font-normal"},X("p",{class:"text-xs font-medium text-foreground truncate"},W),X("p",{class:"text-[10px] text-muted-foreground font-mono truncate mt-0.5"},(()=>{try{return b1(T)}catch{return T.slice(0,16)+"..."}})())),X(J5,null),X(T5,{onClick:()=>{window.location.href="/admin"}},X("svg",{class:"size-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})),"Admin Dashboard"),X(J5,null),X(T5,{destructive:!0,onClick:this.handleLogout},X("svg",{class:"size-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})),"Sign Out"))):X(x,{size:"sm",onClick:this.handleLogin,disabled:J},J?X(s0,{size:"sm",className:"border-primary-foreground/30 border-t-primary-foreground"}):X("svg",{class:"size-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})),J?"Connecting...":"Sign In")))}}class Y8 extends D{videoRef=null;hlsInstance=null;state={isLoading:!0,hasError:!1};componentDidMount(){if(this.props.online)this.initPlayer()}componentDidUpdate($){if(this.props.online&&!$.online)this.setState({isLoading:!0,hasError:!1}),this.initPlayer();else if(!this.props.online&&$.online)this.destroyPlayer()}componentWillUnmount(){this.destroyPlayer()}async initPlayer(){let $=this.videoRef;if(!$)return;let w=this.props.source;if($.addEventListener("playing",()=>{this.setState({isLoading:!1})},{once:!0}),$.canPlayType("application/vnd.apple.mpegurl")){$.src=w,$.addEventListener("loadedmetadata",()=>{$.play().catch(()=>{})});return}try{let z=(await import("../chunk-eyp45axx.js")).default;if(z.isSupported())this.hlsInstance=new z({enableWorker:!0,lowLatencyMode:!0,backBufferLength:90}),this.hlsInstance.loadSource(w),this.hlsInstance.attachMedia($),this.hlsInstance.on(z.Events.MANIFEST_PARSED,()=>{$.play().catch(()=>{})}),this.hlsInstance.on(z.Events.ERROR,(T,J)=>{if(J.fatal)switch(J.type){case z.ErrorTypes.NETWORK_ERROR:this.hlsInstance?.startLoad();break;case z.ErrorTypes.MEDIA_ERROR:this.hlsInstance?.recoverMediaError();break;default:this.setState({hasError:!0,isLoading:!1}),this.destroyPlayer();break}})}catch{$.src=w}}destroyPlayer(){if(this.hlsInstance)this.hlsInstance.destroy(),this.hlsInstance=null;if(this.videoRef)this.videoRef.removeAttribute("src"),this.videoRef.load()}render(){let{online:$,title:w}=this.props,{isLoading:z,hasError:T}=this.state;if(!$)return null;return X("div",{class:"relative w-full bg-black aspect-video group"},X("video",{ref:(J)=>{this.videoRef=J},class:"w-full h-full object-contain",controls:!0,playsinline:!0,title:w}),z&&!T&&X("div",{class:"absolute inset-0 flex items-center justify-center bg-black/80 pointer-events-none"},X("div",{class:"flex flex-col items-center gap-3"},X(s0,{size:"lg"}),X("p",{class:"text-sm text-muted-foreground"},"Connecting to stream..."))),T&&X("div",{class:"absolute inset-0 flex items-center justify-center bg-black/80"},X("div",{class:"flex flex-col items-center gap-3 text-center px-6"},X("svg",{class:"size-10 text-destructive/60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})),X("p",{class:"text-sm text-muted-foreground"},"Unable to load stream"),X(x,{size:"sm",onClick:()=>{this.setState({isLoading:!0,hasError:!1}),this.initPlayer()}},"Retry"))))}}class q8 extends D{render(){let{name:$,customText:w,lastDisconnectTime:z,logo:T}=this.props;return X("div",{class:"relative flex flex-col items-center justify-center w-full aspect-video bg-gradient-to-b from-card via-card to-background overflow-hidden"},X("div",{class:"absolute inset-0 opacity-[0.03]",style:{"background-image":"radial-gradient(circle at 1px 1px, currentColor 1px, transparent 0)","background-size":"32px 32px"}}),X("div",{class:"relative z-10 flex flex-col items-center px-6 py-12 text-center max-w-lg"},X("div",{class:"relative mb-6"},X(e0,{className:"size-20 rounded-2xl opacity-60"},X(m0,{src:T,alt:$,className:"rounded-2xl"}),X($1,{className:"rounded-2xl text-2xl"},X("svg",{class:"size-8 text-muted-foreground/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"})))),X("div",{class:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-muted-foreground/30 border-2 border-card flex items-center justify-center"},X("span",{class:"w-2 h-2 rounded-full bg-muted-foreground/50"}))),X("h2",{class:"text-xl font-semibold text-foreground mb-2"},$),X("p",{class:"text-sm text-muted-foreground leading-relaxed mb-4"},w||"This stream is currently offline. Check back later!"),z&&X(E,{variant:"secondary",className:"gap-1.5"},X("svg",{class:"size-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})),"Last live ",I1(z))))}}class R8 extends D{unsub=null;state={status:f.getState().status,config:f.getState().config};componentDidMount(){this.unsub=f.subscribe(()=>{let $=f.getState();this.setState({status:$.status,config:$.config})})}componentWillUnmount(){this.unsub?.()}render(){let{status:$,config:w}=this.state;if(!$?.online)return null;let z=$.streamTitle||w?.name||"",T=w?.tags||[];return X("div",{class:"px-4 py-3 bg-card/50 border-b border-border/50"},X("div",{class:"flex items-start justify-between gap-4"},X("div",{class:"min-w-0 flex-1"},z&&X("h2",{class:"text-sm font-medium text-foreground truncate"},z),T.length>0&&X("div",{class:"flex flex-wrap gap-1.5 mt-1.5"},T.slice(0,6).map((J)=>X(E,{key:J,variant:"secondary",className:"text-[10px] px-1.5 py-0"},J)))),X("div",{class:"flex items-center gap-3 text-xs text-muted-foreground shrink-0"},X("span",{class:"inline-flex items-center gap-1"},X("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),L6($.viewerCount)),$.lastConnectTime&&X("span",{class:"inline-flex items-center gap-1"},X("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})),I1($.lastConnectTime)))))}}var W8=["#c084fc","#f472b6","#fb923c","#facc15","#4ade80","#22d3ee","#60a5fa","#a78bfa","#f87171","#34d399","#e879f9","#38bdf8","#fbbf24","#a3e635","#fb7185","#2dd4bf","#818cf8","#f97316","#14b8a6","#d946ef"];function M5($){return W8[$%W8.length]||W8[0]}class Q8 extends D{render(){let{message:$,isModerator:w}=this.props,{type:z,timestamp:T}=$,J=u6(T);if(z==="SYSTEM")return X("div",{class:"px-3 py-1.5 flex items-center gap-1.5"},X("svg",{class:"w-3 h-3 text-primary/60 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),X("span",{class:"text-[11px] text-muted-foreground italic"},$.body));if(z==="USER_JOINED"||z==="USER_PARTED"){let W=z==="USER_JOINED";return X("div",{class:"px-3 py-0.5 flex items-center gap-1"},X("span",{class:U("text-[10px]",W?"text-success/50":"text-muted-foreground/40")},W?"":""),X("span",{class:"text-[10px] text-muted-foreground/60"},X("span",{style:{color:M5($.user?.displayColor||0)},class:"opacity-60"},$.user?.displayName)," ",W?"joined":"left"))}if(z==="NAME_CHANGE")return X("div",{class:"px-3 py-0.5 text-[10px] text-muted-foreground/60"},X("span",{style:{color:M5($.user?.displayColor||0)},class:"opacity-60"},$.oldName),"  ",X("span",{style:{color:M5($.user?.displayColor||0)},class:"opacity-80"},$.user?.displayName));if(z==="FEDIVERSE_ENGAGEMENT_FOLLOW"||z==="FEDIVERSE_ENGAGEMENT_LIKE"||z==="FEDIVERSE_ENGAGEMENT_REPOST"){let W=z==="FEDIVERSE_ENGAGEMENT_FOLLOW"?"followed":z==="FEDIVERSE_ENGAGEMENT_LIKE"?"liked":"shared";return X("div",{class:"px-3 py-1.5 flex items-center gap-1.5 bg-primary/5 mx-2 my-1 rounded-md"},X("svg",{class:"w-3 h-3 text-primary shrink-0",fill:"currentColor",viewBox:"0 0 24 24"},X("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})),X("span",{class:"text-[11px] text-primary/80"},$.user?.displayName," ",W," on the fediverse"))}let Z=M5($.user?.displayColor||0),B=$.user?.isModerator,Y=$.user?.isBot,q=$.user?.authenticated;return X("div",{class:"group px-3 py-1 hover:bg-muted/20 transition-colors"},X("div",{class:"flex items-baseline gap-1.5 flex-wrap"},X("span",{class:"text-xs font-medium leading-tight",style:{color:Z}},B&&X(z1,{content:"Moderator",side:"top"},X(E,{variant:"default",className:"text-[7px] px-1 py-0 h-3.5 mr-0.5 align-middle"},"MOD")),Y&&X(z1,{content:"Bot",side:"top"},X(E,{variant:"secondary",className:"text-[7px] px-1 py-0 h-3.5 mr-0.5 align-middle"},"BOT")),q&&X(z1,{content:"Verified",side:"top"},X("span",{class:"inline-flex items-center justify-center size-3 text-success text-[9px] mr-0.5 align-middle"},"")),$.user?.displayName),X("span",{class:"text-[10px] text-muted-foreground/40 leading-tight"},J)),X("p",{class:"text-[13px] text-foreground/90 leading-snug break-words mt-0.5"},$.body))}}class _8 extends D{state={value:""};handleSubmit=($)=>{$.preventDefault();let w=this.state.value.trim();if(!w)return;this.props.onSend(w),this.setState({value:""})};handleInput=($)=>{this.setState({value:$.target.value})};handleKeyDown=($)=>{if($.key==="Enter"&&!$.shiftKey)$.preventDefault(),this.handleSubmit($)};render(){let $=this.state.value.trim().length>0;return X("form",{class:"flex items-center gap-1.5 p-2 border-t border-border/50 bg-card/80",onSubmit:this.handleSubmit},X(Q0,{className:"flex-1 h-7 text-xs",placeholder:"Send a message...",value:this.state.value,onInput:this.handleInput,onKeyDown:this.handleKeyDown}),X(x,{type:"submit",size:"icon-sm",disabled:!$,className:"size-7 shrink-0"},X("svg",{class:"size-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"}))))}}class H8 extends D{state={name:"",loading:!1,error:null};handleSubmit=async($)=>{$.preventDefault();let w=this.state.name.trim();if(!w)return;this.setState({loading:!0,error:null});try{await f.registerUser(w)}catch(z){this.setState({error:z instanceof Error?z.message:"Registration failed",loading:!1})}};handleInput=($)=>{this.setState({name:$.target.value})};render(){let{name:$,loading:w,error:z}=this.state;return X("div",{class:"p-2 border-t border-border/50 bg-card/80"},X("form",{onSubmit:this.handleSubmit},X("p",{class:"text-[11px] text-muted-foreground mb-1.5"},"Pick a name to join the chat"),X("div",{class:"flex items-center gap-1.5"},X(Q0,{className:"flex-1 h-7 text-xs",placeholder:"Your name...",value:$,onInput:this.handleInput,disabled:w}),X(x,{type:"submit",size:"sm",disabled:!$.trim()||w,className:"h-7"},w?X(s0,{size:"sm",className:"border-primary-foreground/30 border-t-primary-foreground"}):"Join")),z&&X("p",{class:"text-[10px] text-destructive mt-1"},z)))}}class D5 extends D{unsub=null;messagesEndRef=null;scrollContainerRef=null;shouldAutoScroll=!0;state={messages:f.getState().messages,currentUser:f.getState().currentUser,chatDisabled:f.getState().config?.chatDisabled||!1,showScrollBtn:!1};componentDidMount(){this.unsub=f.subscribe(()=>{let $=f.getState();this.setState({messages:$.messages,currentUser:$.currentUser,chatDisabled:$.config?.chatDisabled||!1})})}componentDidUpdate($,w){if(w.messages.length!==this.state.messages.length&&this.shouldAutoScroll)this.scrollToBottom()}componentWillUnmount(){this.unsub?.()}scrollToBottom(){if(this.messagesEndRef)this.messagesEndRef.scrollIntoView({behavior:"smooth"})}handleScroll=($)=>{let w=$.target,z=w.scrollHeight-w.scrollTop-w.clientHeight<50;this.shouldAutoScroll=z,this.setState({showScrollBtn:!z})};handleSend=($)=>{f.sendChat($)};render(){let{messages:$,currentUser:w,chatDisabled:z,showScrollBtn:T}=this.state;if(z)return null;return X("div",{class:"flex flex-col h-full bg-card/30"},X("div",{class:"flex items-center justify-between px-3 py-2 border-b border-border/50"},X("div",{class:"flex items-center gap-1.5"},X("svg",{class:"size-3.5 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})),X("h2",{class:"text-xs font-semibold text-foreground"},"Chat")),$.length>0&&X(E,{variant:"ghost",className:"text-[10px] px-0"},$.length)),X("div",{ref:(J)=>{this.scrollContainerRef=J},class:"flex-1 overflow-y-auto overflow-x-hidden scroll-smooth",onScroll:this.handleScroll},$.length===0&&X("div",{class:"flex flex-col items-center justify-center h-full px-4 text-center"},X("svg",{class:"w-8 h-8 text-muted-foreground/30 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})),X("p",{class:"text-xs text-muted-foreground/50"},"No messages yet")),$.map((J)=>X(Q8,{key:J.id,message:J,isModerator:w?.isModerator})),X("div",{ref:(J)=>{this.messagesEndRef=J}})),T&&X("div",{class:"relative"},X(x,{size:"xs",className:"absolute bottom-2 left-1/2 -translate-x-1/2 rounded-full shadow-lg z-10",onClick:()=>{this.shouldAutoScroll=!0,this.scrollToBottom()}},"New messages")),w?X(_8,{onSend:this.handleSend}):X(H8,null))}}class K8 extends D{unsub=null;state={config:f.getState().config};componentDidMount(){this.unsub=f.subscribe(()=>{this.setState({config:f.getState().config})})}componentWillUnmount(){this.unsub?.()}render(){let{config:$}=this.state,w=!!$?.summary,z=$?.tags&&$.tags.length>0,T=$?.socialHandles&&$.socialHandles.length>0,J=!!$?.extraPageContent;return X("footer",{id:"footer",class:"px-6 py-8 bg-card/20"},X("div",{class:"max-w-2xl mx-auto"},w&&X("div",{class:"mb-5"},X("h3",{class:"text-[11px] font-semibold text-foreground/50 uppercase tracking-widest mb-2"},"About this stream"),X("p",{class:"text-sm text-muted-foreground leading-relaxed"},$.summary)),T&&X("div",{class:"flex flex-wrap gap-2 mb-5"},$.socialHandles.map((Z)=>X("a",{key:Z.platform,href:Z.url,target:"_blank",rel:"noopener noreferrer",class:"no-underline"},X(E,{variant:"secondary",className:"gap-1.5 cursor-pointer hover:bg-accent transition-colors text-xs"},X("svg",{class:"size-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})),Z.platform)))),z&&X("div",{class:"flex flex-wrap gap-1.5 mb-5"},$.tags.map((Z)=>X(E,{key:Z,variant:"outline",className:"text-[10px] px-2 py-0 border-border/50 text-muted-foreground/60"},"#",Z))),J&&X("div",{class:"prose prose-sm prose-invert max-w-none text-muted-foreground mb-5 [&_a]:text-primary [&_a]:no-underline [&_a:hover]:underline",innerHTML:$.extraPageContent}),X(H4,{className:"mb-4 bg-border/15"}),X("div",{class:"flex items-center justify-between text-[10px] text-muted-foreground/25"},X("span",null,"Powered by"," ",X("a",{href:"https://github.com/TekkadanPlays/oni",target:"_blank",rel:"noopener noreferrer",class:"hover:text-muted-foreground/50 transition-colors"},"Oni"),"  ",X("a",{href:"https://mycelium.social",target:"_blank",rel:"noopener noreferrer",class:"hover:text-muted-foreground/50 transition-colors"},"Mycelium")),X("span",null,X("a",{href:"/admin",class:"hover:text-muted-foreground/50 transition-colors"},"Admin")))))}}function Nz($,w){let z=w.identifier||`oni-${q2()}`,T=[["d",z]];if(w.title)T.push(["title",w.title]);if(w.summary)T.push(["summary",w.summary]);if(w.image)T.push(["image",w.image]);if(w.streamingUrl)T.push(["streaming",w.streamingUrl]);if(w.recordingUrl)T.push(["recording",w.recordingUrl]);if(w.starts)T.push(["starts",w.starts.toString()]);if(w.ends)T.push(["ends",w.ends.toString()]);if(w.status)T.push(["status",w.status]);if(w.currentParticipants!==void 0)T.push(["current_participants",w.currentParticipants.toString()]);if(w.totalParticipants!==void 0)T.push(["total_participants",w.totalParticipants.toString()]);if(w.tags)for(let J of w.tags)T.push(["t",J]);if(w.participants)for(let J of w.participants){let Z=["p",J.pubkey];if(J.relay)Z.push(J.relay);if(Z.push(J.role),J.proof)Z.push(J.proof);T.push(Z)}if(w.relays&&w.relays.length>0)T.push(["relays",...w.relays]);return T.push(["a",`${H0.LiveEvent}:${$}:${z}`]),g5(H0.LiveEvent,"",T,$)}async function A8($,w){try{let z=Nz($,w);return await F5(z)}catch(z){return console.error("[nip53] Error creating live event:",z),null}}async function f5($,w){if(!$||w.length===0)return{published:!1,results:new Map};let z=[];try{let T=w.map(async(Y)=>{let q=new y0(Y);return z.push(q),await q.connect(),q});await Promise.allSettled(T);let J=new Map,Z=z.filter((Y)=>Y.status==="connected").map(async(Y)=>{try{let q=await Y.publish($);J.set(Y.url,q)}catch(q){J.set(Y.url,{accepted:!1,message:String(q)})}});return await Promise.allSettled(Z),{published:Array.from(J.values()).some((Y)=>Y.accepted),results:J}}finally{for(let T of z)T.disconnect()}}async function U8($,w,z){let T=w.tags.find((Y)=>Y[0]==="d"),J=T?T[1]:`oni-${q2()}`,Z={identifier:J,status:"live"};for(let Y of w.tags)switch(Y[0]){case"title":Z.title=Y[1];break;case"summary":Z.summary=Y[1];break;case"image":Z.image=Y[1];break;case"streaming":Z.streamingUrl=Y[1];break;case"recording":Z.recordingUrl=Y[1];break;case"starts":Z.starts=parseInt(Y[1],10);break;case"ends":Z.ends=parseInt(Y[1],10);break;case"status":Z.status=Y[1];break;case"current_participants":Z.currentParticipants=parseInt(Y[1],10);break}let B={...Z,...z,identifier:J};return A8($,B)}var m={currentEvent:null,isPublishing:!1,lastPublished:null,error:null,enabled:!1},g8=new Set,v1=null;function O1(){for(let $ of g8)$()}function C1(){return m}function j9($){return g8.add($),()=>g8.delete($)}function k9($){if(m={...m,enabled:$},typeof localStorage!=="undefined")localStorage.setItem("oni_live_events_enabled",$?"1":"0");O1()}function P9(){if(typeof localStorage==="undefined")return;let $=localStorage.getItem("oni_live_events_enabled");if($!==null)m={...m,enabled:$==="1"},O1()}function I8(){let w=X1().relayList.filter((z)=>z.write).map((z)=>z.url);if(w.length>0)return w;return["wss://relay.damus.io","wss://nos.lol","wss://relay.nostr.band"]}async function u9($,w){let z=$0();if(!z.pubkey||!m.enabled)return;m={...m,isPublishing:!0,error:null},O1();try{let T=I8(),J=await A8(z.pubkey,{identifier:`oni-${Date.now()}`,title:$||"Live Stream",status:"live",streamingUrl:`${window.location.origin}/hls/stream.m3u8`,starts:Math.floor(Date.now()/1000),currentParticipants:w,participants:[{pubkey:z.pubkey,role:"Host"}],relays:T});if(J){let{published:Z}=await f5(J,T);if(Z){if(console.log("[liveevents] Published live event:",J.id),m={...m,currentEvent:J,isPublishing:!1,lastPublished:new Date().toISOString()},v1)clearInterval(v1);v1=setInterval(()=>{pz($,w)},60000)}else m={...m,isPublishing:!1,error:"Failed to publish to any relay"}}else m={...m,isPublishing:!1,error:"Failed to create event (signer rejected?)"}}catch(T){m={...m,isPublishing:!1,error:String(T)}}O1()}async function L9(){let $=$0();if(!$.pubkey||!m.currentEvent)return;if(v1)clearInterval(v1),v1=null;try{let w=I8(),z=await U8($.pubkey,m.currentEvent,{status:"ended",ends:Math.floor(Date.now()/1000)});if(z)await f5(z,w),console.log("[liveevents] Published stream ended event")}catch(w){console.error("[liveevents] Error ending live event:",w)}m={...m,currentEvent:null},O1()}async function pz($,w){let z=$0();if(!z.pubkey||!m.currentEvent)return;try{let T=I8(),J=await U8(z.pubkey,m.currentEvent,{title:$||"Live Stream",currentParticipants:w,status:"live"});if(J)m={...m,currentEvent:J,lastPublished:new Date().toISOString()},await f5(J,T),O1()}catch(T){console.error("[liveevents] Error updating live event:",T)}}class F8 extends D{unsub=null;unsubAuth=null;lastPubkey=null;wasOnline=!1;state={loading:!0,error:null,online:!1,chatVisible:!0,chatDisabled:!1,isMobile:window.innerWidth<=768,name:"",streamTitle:"",offlineMessage:"",lastDisconnectTime:"",logo:""};updateAuthSigner(){let $=$0(),w=S0();if($.pubkey)w.setAuthSigner((z)=>F5(z));else w.setAuthSigner(null)}onAuthChange(){let $=$0();if(this.updateAuthSigner(),$.pubkey&&this.lastPubkey&&$.pubkey!==this.lastPubkey)t4();if(this.lastPubkey=$.pubkey,$.pubkey)K9($.pubkey).catch((w)=>console.warn("[oni] Bootstrap error:",w))}componentDidMount(){this.unsub=f.subscribe(()=>{let $=f.getState(),w=$.status?.online||!1,z=this.wasOnline;if(this.setState({loading:$.loading,error:$.error,online:w,chatVisible:$.chatVisible,chatDisabled:$.config?.chatDisabled||!1,isMobile:$.isMobile,name:$.config?.name||"",streamTitle:$.status?.streamTitle||"",offlineMessage:$.config?.offlineMessage||"",lastDisconnectTime:$.status?.lastDisconnectTime||"",logo:$.config?.logo||""}),w&&!z)this.wasOnline=!0,u9($.status?.streamTitle||$.config?.name||"Live Stream",$.status?.viewerCount||0);else if(!w&&z)this.wasOnline=!1,L9()}),this.unsubAuth=y1(()=>this.onAuthChange()),Z9(),l4(),P9(),G5(10).catch(($)=>console.warn("[oni] Indexer discovery error:",$)),W9(),this.updateAuthSigner(),z9().then(()=>{this.onAuthChange()}).catch(($)=>console.warn("[oni] Relay connect error:",$)),window.addEventListener("resize",this.handleResize),f.init()}componentWillUnmount(){this.unsub?.(),this.unsubAuth?.(),window.removeEventListener("resize",this.handleResize),f.cleanup()}handleResize=()=>{f.setMobile(window.innerWidth<=768)};render(){let{loading:$,error:w,online:z,chatVisible:T,chatDisabled:J,isMobile:Z,name:B,streamTitle:Y,offlineMessage:q,lastDisconnectTime:W,logo:R}=this.state;if(w)return X("div",{class:"flex items-center justify-center min-h-screen bg-background"},X("div",{class:"text-center p-8 max-w-sm w-full"},X(P0,{variant:"destructive"},X(u0,null,X("p",{class:"font-semibold mb-1"},"Unable to connect"),X("p",null,w))),X(x,{className:"mt-4",onClick:()=>window.location.reload()},"Retry")));if($)return X("div",{class:"flex items-center justify-center min-h-screen bg-background"},X("div",{class:"text-center"},X(s0,{size:"lg",className:"mx-auto mb-4"}),X("p",{class:"text-muted-foreground text-sm"},"Loading...")));return X("div",{class:"flex flex-col h-screen bg-background overflow-hidden"},X(B8,null),X("div",{class:"flex flex-1 min-h-0"},X("div",{class:"flex flex-col flex-1 overflow-y-auto"},z?X(Y8,{source:"/hls/stream.m3u8",online:z,title:Y||B}):X(q8,{name:B,customText:q,lastDisconnectTime:W,logo:R?"/logo":void 0}),z&&X(R8,null),X("div",{class:"flex-1"}),X(K8,null)),T&&!J&&!Z&&X("div",{class:"w-80 shrink-0 border-l border-border/40"},X(D5,null))),X(w5,{open:Z&&!J&&T,onOpenChange:(_)=>{if(!_)f.toggleChat()}},X(k4,null,X(P4,null,"Chat")),X(j4,{className:"h-[70vh]"},X(D5,null))),X(G1,null))}}var rz=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),X("polyline",{points:"9 22 9 12 15 12 15 22"})),mz=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("circle",{cx:"12",cy:"12",r:"3"}),X("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})),sz=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("polygon",{points:"23 7 16 12 23 17 23 7"}),X("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),iz=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),dz=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),X("circle",{cx:"9",cy:"7",r:"4"}),X("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),X("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})),oz=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),X("polyline",{points:"14 2 14 8 20 8"}),X("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),X("line",{x1:"16",y1:"17",x2:"8",y2:"17"})),cz=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})),lz=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})),az=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("circle",{cx:"12",cy:"12",r:"2"}),X("path",{d:"M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"})),tz=()=>X("svg",{class:"size-4 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),X("polyline",{points:"12 19 5 12 12 5"})),nz=()=>X("svg",{class:"size-3 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),X("polyline",{points:"15 3 21 3 21 9"}),X("line",{x1:"10",y1:"14",x2:"21",y2:"3"})),ez=[{section:"",items:[{id:"overview",label:"Home",icon:rz},{id:"viewers",label:"Viewers",icon:dz}]},{section:"Configuration",items:[{id:"general",label:"General",icon:mz},{id:"video",label:"Video",icon:sz},{id:"chat",label:"Chat",icon:iz}]},{section:"Nostr",items:[{id:"nostr",label:"Identity",icon:lz},{id:"relays",label:"Relay Manager",icon:az}]},{section:"Advanced",items:[{id:"logs",label:"Logs",icon:oz},{id:"tokens",label:"Access Tokens",icon:cz}]}];class j8 extends D{unsub=null;state={online:!1,name:"",streamTitle:"",viewerCount:0};componentDidMount(){this.unsub=f.subscribe(()=>{let $=f.getState();this.setState({online:$.status?.online||!1,name:$.config?.name||"",streamTitle:$.status?.streamTitle||"",viewerCount:$.status?.viewerCount||0})})}componentWillUnmount(){this.unsub?.()}render(){let{activeTab:$,onTabChange:w,children:z}=this.props,{online:T,name:J,streamTitle:Z,viewerCount:B}=this.state;return X("div",{class:"flex h-screen bg-background overflow-hidden"},X("aside",{class:"w-56 shrink-0 border-r border-border/60 bg-card/80 backdrop-blur-sm flex flex-col"},X("div",{class:"px-4 py-4 border-b border-border/40"},X("div",{class:"flex items-center gap-3"},X("div",{class:"size-9 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center ring-1 ring-primary/10"},X("svg",{class:"size-5 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},X("polygon",{points:"5 3 19 12 5 21 5 3"}))),X("div",{class:"min-w-0"},X("p",{class:"text-[13px] font-bold text-foreground leading-none tracking-tight"},"Oni"),X("p",{class:"text-[10px] text-muted-foreground/70 truncate mt-0.5"},J||"Streaming Server")))),X(b4,{className:"flex-1 py-2 px-2"},ez.map((Y,q)=>X("div",{key:Y.section},q>0&&X("div",{class:"my-2"}),Y.section&&X("p",{class:"text-[9px] uppercase tracking-[0.15em] text-muted-foreground/40 font-semibold px-3 mb-1 mt-1"},Y.section),X("div",{class:"space-y-0.5"},Y.items.map((W)=>{let R=W.icon,Q=$===W.id;return X("button",{key:W.id,class:U("w-full flex items-center gap-2.5 px-3 py-[7px] rounded-lg text-[13px] transition-all duration-150",Q?"bg-primary/15 text-primary font-medium shadow-sm shadow-primary/5":"text-muted-foreground hover:text-foreground hover:bg-accent/60"),onClick:()=>w(W.id)},X("span",{class:U(Q?"text-primary":"text-muted-foreground/60")},X(R,null)),W.label,Q&&X("span",{class:"ml-auto w-1 h-4 rounded-full bg-primary/60"}))}))))),X("div",{class:"px-2 py-2 border-t border-border/30"},X("button",{class:"w-full flex items-center gap-2.5 px-3 py-[7px] rounded-lg text-[13px] text-muted-foreground/60 hover:text-foreground hover:bg-accent/60 transition-all duration-150",onClick:()=>{window.location.href="/"}},X(tz,null),"Back to stream",X("span",{class:"ml-auto"},X(nz,null))))),X("div",{class:"flex-1 flex flex-col min-w-0"},X("header",{class:"h-12 shrink-0 border-b border-border/40 bg-card/40 backdrop-blur-sm flex items-center justify-between px-6 gap-4"},X("p",{class:"text-[13px] text-muted-foreground/70 truncate min-w-0"},Z||J||"Oni Streaming Server"),X("div",{class:"flex items-center gap-2.5 shrink-0"},T&&B>0&&X("span",{class:"text-[11px] text-muted-foreground/50 flex items-center gap-1"},X("svg",{class:"size-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},X("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),X("circle",{cx:"12",cy:"12",r:"3"})),B),X("div",{class:U("flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[11px] font-medium",T?"bg-success/10 text-success ring-1 ring-success/20":"bg-muted text-muted-foreground ring-1 ring-border/50")},X("span",{class:U("size-1.5 rounded-full",T?"bg-success animate-pulse":"bg-muted-foreground/50")}),T?"Live":"Offline"))),X("main",{class:"flex-1 overflow-y-auto"},X("div",{class:"max-w-5xl mx-auto px-6 py-6"},z))),X(G1,null))}}var $T=()=>X("svg",{class:"size-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("circle",{cx:"12",cy:"12",r:"10"}),X("polyline",{points:"12 6 12 12 16 14"})),wT=()=>X("svg",{class:"size-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),X("circle",{cx:"9",cy:"7",r:"4"}),X("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),X("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})),zT=()=>X("svg",{class:"size-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),X("polyline",{points:"17 6 23 6 23 12"})),TT=()=>X("svg",{class:"size-5 text-violet-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}),X("rect",{x:"9",y:"9",width:"6",height:"6"}),X("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),X("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),X("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),X("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),X("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),X("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),X("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),X("line",{x1:"1",y1:"14",x2:"4",y2:"14"})),JT=()=>X("svg",{class:"size-5 text-blue-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),X("line",{x1:"6",y1:"6",x2:"6",y2:"2"}),X("line",{x1:"10",y1:"6",x2:"10",y2:"2"}),X("line",{x1:"14",y1:"6",x2:"14",y2:"2"}),X("line",{x1:"18",y1:"6",x2:"18",y2:"2"})),ZT=()=>X("svg",{class:"size-5 text-orange-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("line",{x1:"22",y1:"12",x2:"2",y2:"12"}),X("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}),X("line",{x1:"6",y1:"16",x2:"6.01",y2:"16"}),X("line",{x1:"10",y1:"16",x2:"10.01",y2:"16"})),XT=()=>X("svg",{class:"size-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),X("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),X("line",{x1:"12",y1:"17",x2:"12",y2:"21"})),BT=()=>X("svg",{class:"size-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("polyline",{points:"16 16 12 12 8 16"}),X("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),X("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"})),YT=()=>X("svg",{class:"size-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},X("polyline",{points:"8 17 12 21 16 17"}),X("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),X("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"})),qT=()=>X("svg",{class:"size-12 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},X("polygon",{points:"5 3 19 12 5 21 5 3"}));class k8 extends D{pollTimer=null;state={status:null,hardware:null,loading:!0,error:null};componentDidMount(){this.loadData(),this.pollTimer=setInterval(()=>this.loadData(),5000)}componentWillUnmount(){if(this.pollTimer)clearInterval(this.pollTimer)}async loadData(){try{let[$,w]=await Promise.all([K0.admin.getStatus(this.props.token),K0.admin.getHardware(this.props.token).catch(()=>null)]);this.setState({status:$,hardware:w,loading:!1,error:null})}catch($){this.setState({error:$ instanceof Error?$.message:"Failed to load",loading:!1})}}renderStatCard($,w,z,T){return X("div",{class:U("rounded-xl border border-border/50 p-4 flex items-center gap-3.5 bg-card/60 backdrop-blur-sm")},X("div",{class:U("size-10 rounded-xl flex items-center justify-center shrink-0",T||"bg-primary/10 text-primary")},$),X("div",{class:"min-w-0"},X("p",{class:"text-[11px] text-muted-foreground/70 font-medium"},w),X("p",{class:"text-xl font-bold text-foreground truncate leading-tight tabular-nums"},z)))}renderHardwareGauge($,w,z,T){return X("div",null,X("div",{class:"flex items-center justify-between mb-1.5"},X("div",{class:"flex items-center gap-2"},$,X("span",{class:"text-xs text-muted-foreground"},w)),X("span",{class:U("text-xs font-bold tabular-nums",z>90?"text-destructive":"text-foreground")},Math.round(z),"%")),X(K4,{value:z,className:"h-1.5"}))}renderOnlineState($){let w=$?.viewerCount||0,z=$?.sessionPeakViewerCount||0,T=$?.lastConnectTime,J=$?.broadcaster,Z=J?.streamDetails;return X("div",null,X("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-5"},this.renderStatCard(X($T,null),"Stream started",T?I1(T):"Just now","bg-primary/10 text-primary"),this.renderStatCard(X(wT,null),"Current viewers",w,"bg-blue-500/10 text-blue-400"),this.renderStatCard(X(zT,null),"Peak viewers",z,"bg-emerald-500/10 text-emerald-400")),X("div",{class:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-5"},X(i,{className:"py-4 gap-2"},X(e,null,X("div",{class:"flex items-center gap-2"},X("span",{class:"text-muted-foreground/60"},X(YT,null)),X(X0,{className:"text-[13px]"},"Inbound Stream"))),X(d,null,X("div",{class:"rounded-lg border border-border/40 overflow-hidden"},J?.remoteAddr&&X("div",{class:"flex justify-between px-3 py-2 bg-muted/20"},X("span",{class:"text-xs text-muted-foreground"},"Source"),X("span",{class:"text-xs text-foreground font-mono"},J.remoteAddr)),Z&&X(r5,null,X("div",{class:"flex justify-between px-3 py-2"},X("span",{class:"text-xs text-muted-foreground"},"Video"),X("span",{class:"text-xs text-foreground"},Z.videoCodec," @ ",Z.videoBitrate," kbps")),X("div",{class:"flex justify-between px-3 py-2 bg-muted/20"},X("span",{class:"text-xs text-muted-foreground"},"Resolution"),X("span",{class:"text-xs text-foreground"},Z.width,"x",Z.height," @ ",Z.framerate,"fps")),X("div",{class:"flex justify-between px-3 py-2"},X("span",{class:"text-xs text-muted-foreground"},"Audio"),X("span",{class:"text-xs text-foreground"},Z.audioCodec," @ ",Z.audioBitrate," kbps")))),!Z&&!J?.remoteAddr&&X("p",{class:"text-xs text-muted-foreground/60 italic py-2"},"No stream details available"))),this.renderHardwareCard()))}renderOfflineState($){let w=$?.lastDisconnectTime;return X("div",null,X("div",{class:"rounded-xl border border-border/40 bg-gradient-to-b from-card/80 to-background p-8 mb-5 text-center"},X("div",{class:"size-14 rounded-2xl bg-muted/30 flex items-center justify-center mx-auto mb-4"},X(qT,null)),X("h2",{class:"text-lg font-semibold text-foreground mb-1"},"No stream is active"),X("p",{class:"text-sm text-muted-foreground/70 mb-2"},"Start streaming to see your dashboard come alive."),w&&X("p",{class:"text-[11px] text-muted-foreground/50"},"Last stream ended ",I1(w))),X("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-5"},X(i,{className:"py-4 gap-2"},X(e,null,X(X0,{className:"text-[13px] flex items-center gap-2"},X("span",{class:"text-muted-foreground/60"},X(XT,null)),"Broadcasting Software")),X(d,null,X("p",{class:"text-xs text-muted-foreground/70 leading-relaxed"},"Point your streaming software (OBS, Streamlabs, etc.) to your server's RTMP endpoint to begin broadcasting."))),X(i,{className:"py-4 gap-2"},X(e,null,X(X0,{className:"text-[13px] flex items-center gap-2"},X("span",{class:"text-muted-foreground/60"},X(BT,null)),"Stream Key")),X(d,null,X("p",{class:"text-xs text-muted-foreground/70 leading-relaxed"},"Your stream key can be found in the server configuration. Keep it secret  anyone with the key can stream to your server.")))),this.renderHardwareCard())}renderHardwareCard(){let{hardware:$}=this.state;if(!$)return null;let w=$,z=w.cpu?.[0]?.percent!=null?Math.round(w.cpu[0].percent):w.memory?Math.round(w.memory.percent):0,T=w.memory?Math.round(w.memory.percent):0,J=w.disk?Math.round(w.disk.percent):0;return X(i,{className:"py-4 gap-2"},X(e,null,X(X0,{className:"text-[13px]"},"Hardware")),X(d,null,X("div",{class:"space-y-3"},w.cpu?.[0]&&this.renderHardwareGauge(X(TT,null),w.cpu[0].modelName||"CPU",z,"#B63FFF"),w.memory&&this.renderHardwareGauge(X(JT,null),"Memory",T,"#2087E2"),w.disk&&this.renderHardwareGauge(X(ZT,null),"Disk",J,"#FF7700"))))}render(){let{status:$,loading:w,error:z}=this.state;if(w)return X("div",{class:"space-y-4"},X(_0,{className:"h-8 w-48"}),X("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-3"},X(_0,{className:"h-20 rounded-xl"}),X(_0,{className:"h-20 rounded-xl"}),X(_0,{className:"h-20 rounded-xl"})),X("div",{class:"grid grid-cols-1 lg:grid-cols-2 gap-3"},X(_0,{className:"h-48 rounded-xl"}),X(_0,{className:"h-48 rounded-xl"})));if(z)return X(P0,{variant:"destructive"},X(u0,null,z));let T=$,J=T?.online||!1;return X("div",null,X("div",{class:"mb-6"},X("h1",{class:"text-xl font-bold text-foreground tracking-tight"},J?"Dashboard":"Home"),X("p",{class:"text-[13px] text-muted-foreground/60 mt-0.5"},J?"Your stream is live. Here's what's happening.":"Server overview and quick actions.")),J?this.renderOnlineState(T):this.renderOfflineState(T))}}class P8 extends D{state={config:null,loading:!0,saving:!1,error:null,success:null,name:"",title:"",summary:"",logo:"",tags:"",offlineMessage:"",nsfw:!1};componentDidMount(){this.loadConfig()}async loadConfig(){try{let $=await K0.admin.getConfig(this.props.token),w=$?.instanceDetails||{};this.setState({config:$,loading:!1,name:w.name||"",title:w.title||"",summary:w.summary||"",logo:w.logo||"",tags:(w.tags||[]).join(", "),offlineMessage:w.offlineMessage||"",nsfw:w.nsfw||!1})}catch($){this.setState({error:$ instanceof Error?$.message:"Failed to load config",loading:!1})}}handleSave=async()=>{this.setState({saving:!0,error:null,success:null});try{let $=this.state.tags.split(",").map((w)=>w.trim()).filter(Boolean);await K0.admin.updateConfig(this.props.token,{instanceDetails:{name:this.state.name,title:this.state.title,summary:this.state.summary,logo:this.state.logo,tags:$,offlineMessage:this.state.offlineMessage,nsfw:this.state.nsfw}}),this.setState({saving:!1,success:"Configuration saved."}),X5({title:"Configuration saved",description:"Your changes have been applied."}),setTimeout(()=>this.setState({success:null}),3000)}catch($){let w=$ instanceof Error?$.message:"Failed to save";this.setState({saving:!1,error:w}),X5({title:"Save failed",description:w,variant:"destructive"})}};handleInput=($)=>(w)=>{this.setState({[$]:w.target.value})};render(){let{loading:$,saving:w,error:z,success:T,name:J,title:Z,summary:B,tags:Y,offlineMessage:q,nsfw:W}=this.state;if($)return X("div",{class:"max-w-3xl space-y-4"},X(_0,{className:"h-8 w-64"}),X(_0,{className:"h-4 w-96"}),X(_0,{className:"h-64 rounded-xl"}),X(_0,{className:"h-32 rounded-xl"}),X(_0,{className:"h-20 rounded-xl"}));return X("div",{class:"max-w-3xl"},X("div",{class:"mb-6"},X("h1",{class:"text-xl font-bold text-foreground tracking-tight"},"General Configuration"),X("p",{class:"text-[13px] text-muted-foreground/60 mt-0.5"},"Configure your server's public-facing information.")),z&&X(P0,{variant:"destructive",className:"mb-4"},X(u0,null,z)),T&&X(P0,{className:"mb-4"},X(u0,{className:"text-success"},T)),X(i,{className:"mb-4 py-4 gap-3"},X(e,null,X(X0,{className:"text-sm"},"Instance Details"),X(n0,null,"Basic information about your streaming server.")),X(d,null,X("div",{class:"space-y-4"},X("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4"},X("div",{class:"space-y-1.5"},X(r0,null,"Server Name"),X(Q0,{type:"text",value:J,onInput:this.handleInput("name"),placeholder:"My Stream"}),X("p",{class:"text-[11px] text-muted-foreground"},"The public name of your server.")),X("div",{class:"space-y-1.5"},X(r0,null,"Stream Title"),X(Q0,{type:"text",value:Z,onInput:this.handleInput("title"),placeholder:"What are you streaming?"}),X("p",{class:"text-[11px] text-muted-foreground"},"Shown when your stream is live."))),X("div",{class:"space-y-1.5"},X(r0,null,"Summary"),X($5,{className:"min-h-[100px]",value:B,onInput:this.handleInput("summary"),placeholder:"Tell viewers about your stream..."}),X("p",{class:"text-[11px] text-muted-foreground"},"A brief description shown on your stream page.")),X("div",{class:"space-y-1.5"},X(r0,null,"Tags"),X(Q0,{type:"text",value:Y,onInput:this.handleInput("tags"),placeholder:"gaming, music, art"}),X("p",{class:"text-[11px] text-muted-foreground"},"Comma-separated tags to help people discover your stream."))))),X(i,{className:"mb-4 py-4 gap-3"},X(e,null,X(X0,{className:"text-sm"},"Appearance"),X(n0,null,"Customize what viewers see when your stream is offline.")),X(d,null,X("div",{class:"space-y-1.5"},X(r0,null,"Offline Message"),X($5,{className:"min-h-[80px]",value:q,onInput:this.handleInput("offlineMessage"),placeholder:"Custom message shown when stream is offline"}),X("p",{class:"text-[11px] text-muted-foreground"},"Displayed to visitors when you're not streaming.")))),X(i,{className:"mb-4 py-4 gap-3"},X(e,null,X(X0,{className:"text-sm"},"Content Settings")),X(d,null,X("div",{class:"flex items-center justify-between"},X("div",null,X("p",{class:"text-sm text-foreground font-medium"},"NSFW Content"),X("p",{class:"text-[11px] text-muted-foreground"},"Mark your stream as containing adult content.")),X(T2,{checked:W,onChange:(R)=>this.setState({nsfw:R})})))),X("div",{class:"flex items-center gap-3"},X(x,{onClick:this.handleSave,disabled:w},w?"Saving...":"Save Configuration"),T&&X(E,{variant:"outline",className:"text-success border-success/30"},"Saved")))}}var RT=()=>X("svg",{class:"size-10 text-muted-foreground/50",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},X("rect",{x:"2",y:"6",width:"20",height:"8",rx:"1"}),X("path",{d:"M17 14v7"}),X("path",{d:"M7 14v7"}),X("path",{d:"M17 3v3"}),X("path",{d:"M7 3v3"}),X("path",{d:"M10 14 2.3 6.3"}),X("path",{d:"M14 6l7.7 7.7"}),X("path",{d:"M8 6l8 8"}));class P1 extends D{render(){let{title:$,description:w}=this.props;return X("div",null,X("div",{class:"mb-6"},X("h1",{class:"text-xl font-bold text-foreground tracking-tight"},$),X("p",{class:"text-[13px] text-muted-foreground/60 mt-0.5"},w)),X(i,{className:"py-8 gap-0"},X(d,null,X("div",{class:"flex flex-col items-center text-center"},X("div",{class:"size-14 rounded-full bg-muted/30 flex items-center justify-center mb-3"},X(RT,null)),X("p",{class:"text-sm font-medium text-foreground mb-1"},"Coming Soon"),X("p",{class:"text-xs text-muted-foreground max-w-sm"},"This section is under development and will be available in a future update."),X(E,{variant:"secondary",className:"mt-3 text-[10px]"},"Planned")))))}}class u8 extends D{unsubManager=null;unsubRelay=null;state={manager:D1(),relayState:d4(),newRelayUrl:"",newProfileName:"",showAddProfile:!1};componentDidMount(){this.unsubManager=X9(()=>{this.setState({manager:D1()})}),this.unsubRelay=w9(()=>{this.setState({relayState:d4()})})}componentWillUnmount(){this.unsubManager?.(),this.unsubRelay?.()}handleAddRelay=($)=>{let w=this.state.newRelayUrl.trim();if(!w)return;f1($,w),this.setState({newRelayUrl:""})};handleCreateProfile=()=>{let $=this.state.newProfileName.trim();if(!$)return;Y9($),this.setState({newProfileName:"",showAddProfile:!1})};getStatusColor($){switch(this.state.relayState.statuses.get($)){case"connected":return"bg-success";case"connecting":return"bg-warning";case"error":return"bg-destructive";default:return"bg-muted-foreground/30"}}getStatusLabel($){return this.state.relayState.statuses.get($)||"disconnected"}renderProfile($,w){return X(i,{key:$.id,className:U("py-3 gap-2",w&&"border-primary bg-primary/5")},X(e,null,X("div",{class:"flex items-center justify-between"},X("div",{class:"flex items-center gap-2"},X(x,{variant:w?"link":"ghost",size:"sm",className:U("px-0 h-auto",w&&"text-primary"),onClick:()=>B9($.id)},$.name),w&&X(E,{variant:"default",className:"text-[10px] px-1.5 py-0"},"Active"),$.builtin&&X(E,{variant:"secondary",className:"text-[10px] px-1.5 py-0"},"Built-in")),X("div",{class:"flex items-center gap-2"},X(E,{variant:"ghost",className:"text-[10px]"},$.relays.length," relays"),!$.builtin&&X(x,{variant:"ghost",size:"xs",className:"text-destructive hover:text-destructive",onClick:()=>q9($.id)},"Delete")))),X(d,null,X("div",{class:"space-y-1.5 mb-3"},$.relays.length===0?X("p",{class:"text-xs text-muted-foreground italic"},"No relays configured"):$.relays.map((z)=>X("div",{key:z,class:"flex items-center justify-between group px-2 py-1.5 rounded-md bg-background"},X("div",{class:"flex items-center gap-2 min-w-0"},X("span",{class:U("size-2 rounded-full shrink-0",this.getStatusColor(z))}),X("span",{class:"text-xs text-foreground truncate"},z),X(E,{variant:"ghost",className:"text-[10px] px-0"},this.getStatusLabel(z))),X(x,{variant:"ghost",size:"xs",className:"text-destructive hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:()=>k5($.id,z)},"Remove")))),X("div",{class:"flex gap-2"},X(Q0,{className:"flex-1 h-8 text-xs",placeholder:"wss://relay.example.com",value:this.state.newRelayUrl,onInput:(z)=>this.setState({newRelayUrl:z.target.value}),onKeyDown:(z)=>{if(z.key==="Enter")this.handleAddRelay($.id)}}),X(x,{size:"sm",className:"h-8",onClick:()=>this.handleAddRelay($.id)},"Add"))))}render(){let{manager:$,showAddProfile:w,newProfileName:z}=this.state;return X("div",null,X("div",{class:"flex items-center justify-between mb-6"},X("div",null,X("h1",{class:"text-xl font-bold text-foreground tracking-tight"},"Relay Manager"),X("p",{class:"text-[13px] text-muted-foreground/60 mt-0.5"},"Manage relay profiles and connections.")),X(x,{variant:w?"outline":"secondary",size:"sm",onClick:()=>this.setState({showAddProfile:!w})},w?"Cancel":"+ New Profile")),X("p",{class:"text-sm text-muted-foreground mb-4"},"Manage relay profiles for your Nostr identity. Outbox relays are where you publish events. Inbox relays are where others can find your posts. Indexers are used for bootstrapping."),w&&X("div",{class:"flex gap-2 mb-4"},X(Q0,{className:"flex-1",placeholder:"Profile name",value:z,onInput:(T)=>this.setState({newProfileName:T.target.value}),onKeyDown:(T)=>{if(T.key==="Enter")this.handleCreateProfile()}}),X(x,{onClick:this.handleCreateProfile},"Create")),X("div",{class:"space-y-4"},$.profiles.map((T)=>this.renderProfile(T,T.id===$.activeProfileId))))}}class L8 extends D{unsubAuth=null;unsubBootstrap=null;unsubLive=null;state={pubkey:$0().pubkey,authLoading:$0().isLoading,authError:$0().error,profile:X1().profile,bootstrapPhase:X1().phase,relayCount:X1().relayList.length,followingCount:X1().followingCount,liveEventsEnabled:C1().enabled,liveEventPublishing:C1().isPublishing,liveEventError:C1().error,lastPublished:C1().lastPublished};componentDidMount(){this.unsubAuth=y1(()=>{let $=$0();this.setState({pubkey:$.pubkey,authLoading:$.isLoading,authError:$.error})}),this.unsubBootstrap=S5(()=>{let $=X1();this.setState({profile:$.profile,bootstrapPhase:$.phase,relayCount:$.relayList.length,followingCount:$.followingCount})}),this.unsubLive=j9(()=>{let $=C1();this.setState({liveEventsEnabled:$.enabled,liveEventPublishing:$.isPublishing,liveEventError:$.error,lastPublished:$.lastPublished})})}componentWillUnmount(){this.unsubAuth?.(),this.unsubBootstrap?.(),this.unsubLive?.()}render(){let{pubkey:$,authLoading:w,authError:z,profile:T,bootstrapPhase:J,relayCount:Z,followingCount:B,liveEventsEnabled:Y,liveEventPublishing:q,liveEventError:W,lastPublished:R}=this.state;return X("div",null,X("div",{class:"mb-6"},X("h1",{class:"text-xl font-bold text-foreground tracking-tight"},"Nostr Identity"),X("p",{class:"text-[13px] text-muted-foreground/60 mt-0.5"},"Connect your Nostr account and manage live event publishing.")),X(i,{className:"mb-4 py-4 gap-3"},X(e,null,X(X0,{className:"text-sm"},"Account")),X(d,null,$?X("div",null,X("div",{class:"flex items-start gap-4 mb-4"},X(e0,{className:"size-16"},X(m0,{src:T?.picture,alt:""}),X($1,{className:"text-xl"},(T?.displayName||T?.name||$.charAt(0)).charAt(0).toUpperCase())),X("div",{class:"min-w-0"},X("p",{class:"text-lg font-semibold text-foreground truncate"},T?.displayName||T?.name||U5($,8)),X("p",{class:"text-xs text-muted-foreground font-mono truncate mb-1"},b1($)),T?.nip05&&X(E,{variant:"outline",className:"text-[10px] border-primary/30 text-primary"},T.nip05),T?.about&&X("p",{class:"text-xs text-muted-foreground mt-1 line-clamp-2"},T.about))),X("div",{class:"grid grid-cols-3 gap-3 mb-4"},X("div",{class:"text-center p-2 rounded-md bg-background"},X("p",{class:"text-lg font-semibold text-foreground"},Z),X("p",{class:"text-[10px] text-muted-foreground"},"Relays")),X("div",{class:"text-center p-2 rounded-md bg-background"},X("p",{class:"text-lg font-semibold text-foreground"},B),X("p",{class:"text-[10px] text-muted-foreground"},"Following")),X("div",{class:"text-center p-2 rounded-md bg-background"},X("p",{class:"text-lg font-semibold text-foreground capitalize"},J),X("p",{class:"text-[10px] text-muted-foreground"},"Status"))),X(x,{variant:"destructive",size:"sm",onClick:()=>u5()},"Sign Out")):X("div",null,X("p",{class:"text-sm text-muted-foreground mb-3"},"Connect your Nostr identity to publish NIP-53 live events and manage your stream's social presence."),X(x,{onClick:()=>P5(),disabled:w},w?"Connecting...":"Connect with Nostr"),z&&X("p",{class:"text-xs text-destructive mt-2"},z),X("p",{class:"text-xs text-muted-foreground mt-2"},"Requires a NIP-07 browser extension (nos2x-fox, Alby, etc.) or Amber on Android.")))),X(i,{className:"mb-4 py-4 gap-3"},X(e,null,X("div",{class:"flex items-center justify-between"},X(X0,{className:"text-sm"},"NIP-53 Live Events"),X(T2,{checked:Y,onChange:(Q)=>k9(Q)})),X(n0,null,"When enabled, Oni will automatically publish a NIP-53 live activity event (kind 30311) to your outbox relays when the stream goes live, update it periodically with viewer count, and mark it as ended when the stream stops.")),X(d,null,Y&&!$&&X(P0,{variant:"destructive",className:"mb-2"},X(u0,null,"You must connect a Nostr identity above to publish live events.")),q&&X("p",{class:"text-xs text-primary"},"Publishing live event..."),W&&X("p",{class:"text-xs text-destructive mt-1"},W),R&&X("p",{class:"text-xs text-muted-foreground mt-1"},"Last published: ",new Date(R).toLocaleTimeString()))),X(i,{className:"py-4 gap-3"},X(e,null,X(X0,{className:"text-sm"},"How it works")),X(d,null,X("ul",{class:"text-xs text-muted-foreground space-y-1.5"},X("li",null," Your Nostr identity is bootstrapped by querying indexer relays for your profile (kind 0) and relay list (NIP-65 kind 10002)."),X("li",null," Outbox and inbox relays from your NIP-65 list are automatically populated in the Relay Manager."),X("li",null," NIP-53 live events are published to your outbox relays so followers can discover your stream."),X("li",null," Indexer relays are discovered via rstate API or NIP-66 monitor relays as a fallback."),X("li",null," This is the same identity system used by Mycelium (app.mycelium.social).")))))}}var G8="oni-admin-token";class S8 extends D{state={activeTab:"overview",token:T1(G8)||"",tokenInput:"",authenticated:!!T1(G8),authError:null};componentDidMount(){if(this.state.token)this.verifyToken(this.state.token)}async verifyToken($){try{await fetch("/api/admin/serverconfig",{headers:{Authorization:`Bearer ${$}`}}).then((w)=>{if(!w.ok)throw new Error("Invalid token");return w.json()}),this.setState({authenticated:!0,token:$,authError:null}),F1(G8,$)}catch{this.setState({authenticated:!1,authError:"Invalid admin access token"})}}handleLogin=async($)=>{$.preventDefault();let w=this.state.tokenInput.trim();if(!w)return;await this.verifyToken(w)};handleTabChange=($)=>{this.setState({activeTab:$})};renderTab(){let{activeTab:$,token:w}=this.state;switch($){case"overview":return X(k8,{token:w});case"general":return X(P8,{token:w});case"video":return X(P1,{title:"Video Configuration",description:"Configure video output quality variants, latency, and codec settings."});case"chat":return X(P1,{title:"Chat Configuration",description:"Configure chat settings, moderation, and spam protection."});case"viewers":return X(P1,{title:"Viewer Information",description:"View connected viewers and their details."});case"logs":return X(P1,{title:"Logs",description:"View server logs and warnings."});case"tokens":return X(P1,{title:"Access Tokens",description:"Manage access tokens for integrations and admin access."});case"nostr":return X(L8,null);case"relays":return X(u8,null);default:return null}}render(){let{authenticated:$,authError:w,tokenInput:z}=this.state;if(!$)return X("div",{class:"flex items-center justify-center min-h-screen bg-background"},X(i,{className:"w-full max-w-sm py-5 gap-4"},X(e,{className:"text-center"},X("div",{class:"mx-auto size-10 rounded-lg bg-primary/10 flex items-center justify-center mb-2"},X("svg",{class:"size-6 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},X("polygon",{points:"5 3 19 12 5 21 5 3"}))),X(X0,null,"Oni Admin"),X(n0,null,"Enter your access token to continue.")),X(d,null,X("form",{onSubmit:this.handleLogin,class:"space-y-3"},X("div",{class:"space-y-1.5"},X(r0,null,"Access Token"),X(Q0,{type:"password",value:z,onInput:(T)=>this.setState({tokenInput:T.target.value}),placeholder:"Enter your admin token"})),w&&X(P0,{variant:"destructive",className:"py-2"},X(u0,{className:"text-xs"},w)),X(x,{type:"submit",className:"w-full"},"Sign In"))),X(_4,{className:"justify-center"},X("a",{href:"/",class:"text-xs text-muted-foreground hover:text-foreground transition-colors"}," Back to stream"))));return X(j8,{activeTab:this.state.activeTab,onTabChange:this.handleTabChange},this.renderTab())}}var G9=document.getElementById("root");if(G9){let $=window.location.pathname.startsWith("/admin");Y3($?X(S8,null):X(F8,null),G9)}

//# debugId=2728D9ACA09FB64764756E2164756E21
//# sourceMappingURL=main-0m34q58a.js.map
